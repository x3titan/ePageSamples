<page>
  <controls count="82">
    <control type="DivRoot" pathname="/divRoot">
      <backgroundColor>ffffff</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>816</height>
      <left>0</left>
      <onControlLoad>var url = window.location.href; 
var index = url.lastIndexOf("&amp;");  
var url_m = url.substr(0,index);   

//console.log("url_m::"+url_m); 

var red_url = url.substring(index); 
index = red_url.indexOf("/");
red_url = red_url.substring(index);   //  /simulation/path#id=13#token=demo
//console.log(red_url); 
g5.red_url = red_url; 

var arr = url_m.split("&amp;");
var id_str = arr[1].split("="); 
var token_str = arr[2].split("=");
g5.id = id_str[1];
g5.token = token_str[1];   

//获取加密后的 g5.back_thisPage
var ind = url.indexOf("/shoplist");
var str = url.substring(ind);   
var str_encode = escape(str);
g5.back_thisPage = str_encode;

query();    

//获取返回本页的 back_url
var url = window.location.href;
var index = url.indexOf("=/");
var str = url.substring(index+1);
//console.log(str);                
str = escape(str);
//console.log(str);     
g5.backThisPage_url = str; 





//console.log(window.location.search);
                      







</onControlLoad>
      <pageHead><![CDATA[<meta name="viewport" content="width=device-width, minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">       
<script type="text/javascript"src="/eEngine/Scripts/timestamp.js"></script> 
<script type="text/javascript"src="/eEngine/Scripts/sha1.js"></script>]]></pageHead>
      <top>0</top>
      <width>444</width>
    </control>
    <control type="Panel" pathname="/divRoot/panel1">
      <backgroundColor>F2F2F2</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>816</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>1.83783783783784</sizeRatio>
      <top>0</top>
      <width>444</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel2">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontSizeAuto>20</fontSizeAuto>
      <height>55</height>
      <heightRatio>0.0674019607843137</heightRatio>
      <left>0</left>
      <sizeRatio>0.120614035087719</sizeRatio>
      <text>订单提交</text>
      <top>0</top>
      <width>444</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel2/panel6">
      <backgroundImg>fanhui.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>20</height>
      <heightRatio>0.363636363636364</heightRatio>
      <left>14</left>
      <leftRatio>0.0307017543859649</leftRatio>
      <onClick>window.location.href = ee.pageRoot + g5.red_url;</onClick>
      <sizeRatio>1.05263157894737</sizeRatio>
      <top>17</top>
      <topRatio>0.309090909090909</topRatio>
      <width>19</width>
      <widthRatio>0.0416666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel3">
      <autoScroll>true</autoScroll>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>691</height>
      <heightRatio>0.846813725490196</heightRatio>
      <left>0</left>
      <sizeRatio>1.63744075829384</sizeRatio>
      <top>57</top>
      <topRatio>0.0698529411764706</topRatio>
      <width>444</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel3/panel4">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>116</height>
      <heightRatio>0.167638483965015</heightRatio>
      <left>0</left>
      <sizeRatio>0.241090146750524</sizeRatio>
      <top>4</top>
      <topRatio>0.00583090379008746</topRatio>
      <width>444</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel3/panel4/panel24">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontSizeAuto>20</fontSizeAuto>
      <height>41</height>
      <heightRatio>0.356521739130435</heightRatio>
      <left>47</left>
      <leftRatio>0.10482180293501</leftRatio>
      <sizeRatio>0.308270676691729</sizeRatio>
      <text>.</text>
      <top>13</top>
      <topRatio>0.11304347826087</topRatio>
      <width>124</width>
      <widthRatio>0.278825995807128</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel3/panel4/panel25">
      <backgroundImg>jiantou.png</backgroundImg>
      <backgroundImgMode>stretch</backgroundImgMode>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>12</height>
      <heightRatio>0.104347826086957</heightRatio>
      <left>174</left>
      <leftRatio>0.392033542976939</leftRatio>
      <sizeRatio>0.114285714285714</sizeRatio>
      <top>27</top>
      <topRatio>0.234782608695652</topRatio>
      <width>98</width>
      <widthRatio>0.220125786163522</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel3/panel4/panel26">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontSizeAuto>20</fontSizeAuto>
      <height>41</height>
      <heightRatio>0.356521739130435</heightRatio>
      <left>276</left>
      <leftRatio>0.620545073375262</leftRatio>
      <sizeRatio>0.353448275862069</sizeRatio>
      <text>.</text>
      <top>13</top>
      <topRatio>0.11304347826087</topRatio>
      <width>108</width>
      <widthRatio>0.243186582809224</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel3/panel4/panel27">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>50</height>
      <heightRatio>0.434782608695652</heightRatio>
      <left>99</left>
      <leftRatio>0.222222222222222</leftRatio>
      <sizeRatio>0.188679245283019</sizeRatio>
      <top>62</top>
      <topRatio>0.530434782608696</topRatio>
      <width>247</width>
      <widthRatio>0.555555555555556</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel3/panel4/panel27/panel28">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontSizeAuto>26</fontSizeAuto>
      <height>50</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>0.704225352112676</sizeRatio>
      <text>.</text>
      <top>0</top>
      <width>75</width>
      <widthRatio>0.303418803418803</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel3/panel4/panel27/panel29">
      <bindControl>panel28</bindControl>
      <bindLeft>right</bindLeft>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontSizeAuto>26</fontSizeAuto>
      <height>50</height>
      <heightRatio>1</heightRatio>
      <left>75</left>
      <leftRatio>0.303418803418803</leftRatio>
      <sizeRatio>0.704225352112676</sizeRatio>
      <text>.</text>
      <top>0</top>
      <width>75</width>
      <widthRatio>0.303418803418803</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel3/panel4/panel27/panel30">
      <bindControl>panel29</bindControl>
      <bindLeft>right</bindLeft>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontSizeAuto>26</fontSizeAuto>
      <height>50</height>
      <heightRatio>1</heightRatio>
      <left>150</left>
      <leftRatio>0.606837606837607</leftRatio>
      <sizeRatio>0.704225352112676</sizeRatio>
      <text>.</text>
      <top>0</top>
      <width>75</width>
      <widthRatio>0.303418803418803</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel3/panel5">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <bindControl>panel4</bindControl>
      <bindTop>bottom</bindTop>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>256</height>
      <heightRatio>0.370262390670554</heightRatio>
      <left>0</left>
      <outerTop>8</outerTop>
      <sizeRatio>0.538135593220339</sizeRatio>
      <top>128</top>
      <topRatio>0.164723032069971</topRatio>
      <width>444</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel3/panel5/panel7">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>55</height>
      <heightRatio>0.214285714285714</heightRatio>
      <left>0</left>
      <sizeRatio>0.127118644067797</sizeRatio>
      <top>0</top>
      <width>444</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel3/panel5/panel7/panel15">
      <dockY>fill</dockY>
      <fontSizeAuto>22</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>55</height>
      <heightRatio>1</heightRatio>
      <left>12</left>
      <leftRatio>0.027027027027027</leftRatio>
      <sizeRatio>0.298913043478261</sizeRatio>
      <text>使用人</text>
      <top>0</top>
      <width>184</width>
      <widthRatio>0.414414414414414</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel3/panel5/panel7/panel16">
      <backgroundColor>FF8204</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontColor>FFFFFF</fontColor>
      <fontSizeAuto>24</fontSizeAuto>
      <height>30</height>
      <heightRatio>0.545454545454545</heightRatio>
      <left>306</left>
      <leftRatio>0.68957345971564</leftRatio>
      <onClick>getUserInfo();

ee.setVisible(ee.getControl("panel31"),true); //遮罩层
ee.setVisible(ee.getControl("panel32"),true)  //选择使用人
</onClick>
      <sizeRatio>0.272727272727273</sizeRatio>
      <text>选择使用人</text>
      <top>12</top>
      <topRatio>0.218181818181818</topRatio>
      <width>116</width>
      <widthRatio>0.260663507109005</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel3/panel5/panel7/panel17">
      <backgroundColor>999999</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <fontColor>999999</fontColor>
      <height>1</height>
      <heightRatio>0.0181818181818182</heightRatio>
      <left>0</left>
      <sizeRatio>0.00225225225225225</sizeRatio>
      <top>54</top>
      <topRatio>0.981818181818182</topRatio>
      <width>444</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel3/panel5/panel8">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>201</height>
      <heightRatio>0.785714285714286</heightRatio>
      <left>10</left>
      <leftRatio>0.0233050847457627</leftRatio>
      <sizeRatio>0.488888888888889</sizeRatio>
      <top>55</top>
      <topRatio>0.214285714285714</topRatio>
      <width>423</width>
      <widthRatio>0.953389830508475</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel3/panel5/panel8/panel9">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>55</height>
      <heightRatio>0.272727272727273</heightRatio>
      <left>0</left>
      <sizeRatio>0.133333333333333</sizeRatio>
      <top>0</top>
      <width>423</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel1/panel3/panel5/panel8/panel9/edit1">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>999999</fontColor>
      <fontSizeAuto>24</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>55</height>
      <heightRatio>1</heightRatio>
      <inputFontSizeAuto>24</inputFontSizeAuto>
      <left>0</left>
      <sizeRatio>0.130023640661939</sizeRatio>
      <text>中文姓名</text>
      <top>0</top>
      <vAlign>bottom</vAlign>
      <width>423</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel3/panel5/panel8/panel9/panel12">
      <backgroundColor>999999</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontColor>999999</fontColor>
      <height>2</height>
      <heightRatio>0.0363636363636364</heightRatio>
      <left>0</left>
      <sizeRatio>0.00497512437810945</sizeRatio>
      <top>53</top>
      <topRatio>0.963636363636364</topRatio>
      <width>423</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel3/panel5/panel8/panel10">
      <bindControl>panel9</bindControl>
      <bindTop>bottom</bindTop>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>55</height>
      <heightRatio>0.272727272727273</heightRatio>
      <left>0</left>
      <sizeRatio>0.133333333333333</sizeRatio>
      <top>55</top>
      <topRatio>0.272727272727273</topRatio>
      <width>423</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel1/panel3/panel5/panel8/panel10/edit2">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>999999</fontColor>
      <fontSizeAuto>24</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>55</height>
      <heightRatio>1</heightRatio>
      <inputFontSizeAuto>24</inputFontSizeAuto>
      <left>0</left>
      <sizeRatio>0.130023640661939</sizeRatio>
      <text>手机号</text>
      <top>0</top>
      <vAlign>bottom</vAlign>
      <width>423</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel3/panel5/panel8/panel10/panel13">
      <backgroundColor>999999</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontColor>999999</fontColor>
      <height>2</height>
      <heightRatio>0.0333333333333333</heightRatio>
      <left>0</left>
      <sizeRatio>0.00444444444444444</sizeRatio>
      <top>53</top>
      <topRatio>0.966666666666667</topRatio>
      <width>423</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel3/panel5/panel8/panel11">
      <bindControl>panel10</bindControl>
      <bindTop>bottom</bindTop>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>55</height>
      <heightRatio>0.272727272727273</heightRatio>
      <left>0</left>
      <sizeRatio>0.133333333333333</sizeRatio>
      <top>110</top>
      <topRatio>0.545454545454545</topRatio>
      <width>423</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel1/panel3/panel5/panel8/panel11/edit3">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>999999</fontColor>
      <fontSizeAuto>24</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>55</height>
      <heightRatio>1</heightRatio>
      <inputFontSizeAuto>24</inputFontSizeAuto>
      <left>0</left>
      <sizeRatio>0.130023640661939</sizeRatio>
      <text>身份证号</text>
      <top>0</top>
      <vAlign>bottom</vAlign>
      <width>423</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel3/panel5/panel8/panel11/panel14">
      <backgroundColor>999999</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontColor>999999</fontColor>
      <height>2</height>
      <heightRatio>0.0333333333333333</heightRatio>
      <left>0</left>
      <sizeRatio>0.00444444444444444</sizeRatio>
      <top>53</top>
      <topRatio>0.966666666666667</topRatio>
      <width>423</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel3/panel18">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <bindControl>panel5</bindControl>
      <bindTop>bottom</bindTop>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <hAlign>left</hAlign>
      <height>50</height>
      <heightRatio>0.0728862973760933</heightRatio>
      <left>0</left>
      <outerTop>8</outerTop>
      <sizeRatio>0.105932203389831</sizeRatio>
      <top>392</top>
      <topRatio>0.543731778425656</topRatio>
      <width>444</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel3/panel18/panel19">
      <dockY>fill</dockY>
      <fontSizeAuto>22</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>50</height>
      <heightRatio>1</heightRatio>
      <left>12</left>
      <leftRatio>0.027027027027027</leftRatio>
      <sizeRatio>0.271739130434783</sizeRatio>
      <text>使用说明</text>
      <top>0</top>
      <width>184</width>
      <widthRatio>0.414414414414414</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel3/panel20">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <bindControl>panel18</bindControl>
      <bindTop>bottom</bindTop>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontColor>454545</fontColor>
      <fontSizeAuto>26</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>640</height>
      <heightRatio>0.925655976676385</heightRatio>
      <left>0</left>
      <outerTop>3</outerTop>
      <sizeRatio>1.34533898305085</sizeRatio>
      <text>.</text>
      <top>445</top>
      <topRatio>0.620991253644315</topRatio>
      <vAlign>top</vAlign>
      <width>444</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel21">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <bindControl>panel3</bindControl>
      <bindTop>bottom</bindTop>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>65</height>
      <heightRatio>0.079656862745098</heightRatio>
      <left>0</left>
      <outerTop>4</outerTop>
      <sizeRatio>0.136268343815514</sizeRatio>
      <top>752</top>
      <topRatio>0.92156862745098</topRatio>
      <width>444</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel21/panel22">
      <backgroundColor>FF8204</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontColor>FFFFFF</fontColor>
      <fontSizeAuto>24</fontSizeAuto>
      <height>30</height>
      <heightRatio>0.461538461538462</heightRatio>
      <left>306</left>
      <leftRatio>0.68957345971564</leftRatio>
      <onClick>var e1 = ee.getEditText(ee.getControl("edit1")); 
var e2 = ee.getEditText(ee.getControl("edit2"));
var e3 = ee.getEditText(ee.getControl("edit3"));
if (e1 == ""){
    alert("姓名不能为空");
    return;
}else if (e2 == '' || !(/^1[3|4|5|7|8]\d{9}$/.test(e2))){
    alert("请填写正确的手机号");
    return;
}else if (e3 == '' || !(/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(e3))){
    alert("请填写正确的身份证号码");
}


toPay();</onClick>
      <sizeRatio>0.272727272727273</sizeRatio>
      <text>去支付</text>
      <top>17</top>
      <topRatio>0.261538461538462</topRatio>
      <width>116</width>
      <widthRatio>0.260663507109005</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel21/panel23">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontBold>true</fontBold>
      <fontColor>FF8204</fontColor>
      <fontFamily>Arial</fontFamily>
      <fontSizeAuto>20</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>65</height>
      <heightRatio>1</heightRatio>
      <left>14</left>
      <leftRatio>0.0317796610169492</leftRatio>
      <sizeRatio>0.537190082644628</sizeRatio>
      <text>.</text>
      <top>0</top>
      <width>114</width>
      <widthRatio>0.25635593220339</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel31">
      <alpha>0.3</alpha>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>FFFFFF</fontColor>
      <fontSizeAuto>24</fontSizeAuto>
      <height>816</height>
      <heightRatio>1</heightRatio>
      <layerName>遮罩层</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>ee.setVisible(ee.getControl("panel31"),false); //遮罩层
ee.setVisible(ee.getControl("panel32"),false);  //选择使用人</onClick>
      <sizeRatio>1.83783783783784</sizeRatio>
      <top>0</top>
      <width>444</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel32">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>410</height>
      <heightRatio>0.502450980392157</heightRatio>
      <layerName>选择使用人</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.923423423423423</sizeRatio>
      <top>406</top>
      <topRatio>0.497549019607843</topRatio>
      <width>444</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel33">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontSizeAuto>22</fontSizeAuto>
      <height>60</height>
      <heightRatio>0.146341463414634</heightRatio>
      <left>0</left>
      <sizeRatio>0.139211136890951</sizeRatio>
      <text>选择使用人</text>
      <top>-1</top>
      <topRatio>-0.0024390243902439</topRatio>
      <width>444</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel33/panel34">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontColor>6BCCDE</fontColor>
      <fontSizeAuto>23</fontSizeAuto>
      <height>60</height>
      <heightRatio>1</heightRatio>
      <left>340</left>
      <leftRatio>0.765661252900232</leftRatio>
      <onClick>var url = ee.pageRoot + "/userinfo&amp;back_url="+g5.back_thisPage;     
//console.log("click out:"+url);
window.location.href = url;</onClick>
      <sizeRatio>0.6</sizeRatio>
      <text>管理</text>
      <top>0</top>
      <width>103</width>
      <widthRatio>0.232018561484919</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel33/panel35">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>60</height>
      <heightRatio>1</heightRatio>
      <left>3</left>
      <leftRatio>0.00696055684454756</leftRatio>
      <onClick>ee.setVisible(ee.getControl("panel31"),false); //遮罩层
ee.setVisible(ee.getControl("panel32"),false);  //选择使用人</onClick>
      <sizeRatio>1.09090909090909</sizeRatio>
      <top>0</top>
      <width>57</width>
      <widthRatio>0.127610208816705</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel33/panel35/panel36">
      <backgroundImg>closeBtn.jpg</backgroundImg>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>20</height>
      <heightRatio>0.333333333333333</heightRatio>
      <left>18</left>
      <leftRatio>0.309090909090909</leftRatio>
      <sizeRatio>1</sizeRatio>
      <top>20</top>
      <topRatio>0.333333333333333</topRatio>
      <width>21</width>
      <widthRatio>0.363636363636364</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel33/panel37">
      <backgroundColor>999999</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>2</height>
      <heightRatio>0.0333333333333333</heightRatio>
      <left>0</left>
      <sizeRatio>0.00464037122969838</sizeRatio>
      <top>58</top>
      <topRatio>0.966666666666667</topRatio>
      <width>444</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38">
      <autoScroll>true</autoScroll>
      <bindControl>panel33</bindControl>
      <bindTop>bottom</bindTop>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>350</height>
      <heightRatio>0.853658536585366</heightRatio>
      <left>0</left>
      <sizeRatio>0.812064965197216</sizeRatio>
      <top>59</top>
      <topRatio>0.14390243902439</topRatio>
      <width>444</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="TableTitle" pathname="/divRoot/panel32/panel38/tabletitle2">
      <columnCount>3</columnCount>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>1</height>
      <heightRatio>0.00285714285714286</heightRatio>
      <left>0</left>
      <sizeRatio>0.00219298245614035</sizeRatio>
      <tableBody>tablebody2</tableBody>
      <top>0</top>
      <width>444</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="TableTitleItem" pathname="/divRoot/panel32/panel38/tabletitle2/tabletitleitem12">
      <backgroundColor>f0f0f0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <heavy>0</heavy>
      <height>1</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>正无穷大</sizeRatio>
      <top>0</top>
      <width>0</width>
    </control>
    <control type="TableTitleItem" pathname="/divRoot/panel32/panel38/tabletitle2/tabletitleitem13">
      <backgroundColor>d0d0d0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <heavy>0</heavy>
      <height>1</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>正无穷大</sizeRatio>
      <top>0</top>
      <width>0</width>
    </control>
    <control type="TableTitleItem" pathname="/divRoot/panel32/panel38/tabletitle2/tabletitleitem14">
      <backgroundColor>f0f0f0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>1</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>0.00225225225225225</sizeRatio>
      <top>0</top>
      <width>444</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="TableBody" pathname="/divRoot/panel32/panel38/tablebody2">
      <autoScroll>true</autoScroll>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <dynamicMode>true</dynamicMode>
      <height>350</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <rowCount>5</rowCount>
      <sizeRatio>0.767543859649123</sizeRatio>
      <tableTitle>tabletitle2</tableTitle>
      <top>1</top>
      <topRatio>0.00285714285714286</topRatio>
      <width>444</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="TableBodyItem" pathname="/divRoot/panel32/panel38/tablebody2/tablebodyitem12">
      <backgroundColor>f0f0f0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>70</height>
      <heightRatio>0.2</heightRatio>
      <left>0</left>
      <sizeRatio>正无穷大</sizeRatio>
      <top>0</top>
      <width>0</width>
    </control>
    <control type="TableBodyItem" pathname="/divRoot/panel32/panel38/tablebody2/tablebodyitem13">
      <backgroundColor>d0d0d0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>70</height>
      <heightRatio>0.2</heightRatio>
      <left>0</left>
      <sizeRatio>正无穷大</sizeRatio>
      <top>0</top>
      <width>0</width>
    </control>
    <control type="TableBodyItem" pathname="/divRoot/panel32/panel38/tablebody2/tablebodyitem14">
      <backgroundColor>f0f0f0</backgroundColor>
      <height>70</height>
      <heightRatio>0.2</heightRatio>
      <left>0</left>
      <onClick>var index = sender.rowIndex;
var str = ee.getText(ee.getControl("tablebody2").cols[1].rows[index]);

var arr = str.split("`");
var name = arr[0];
var tel = arr[1];
var idCard = arr[2];

ee.setEditText(ee.getControl("edit1"),name);
ee.setEditText(ee.getControl("edit2"),tel);
ee.setEditText(ee.getControl("edit3"),idCard);  


ee.setVisible(ee.getControl("panel31"),false); //遮罩层
ee.setVisible(ee.getControl("panel32"),false);  //选择使用人




</onClick>
      <onUpdate>var str = text;
var arr = str.split("`");
var name = arr[0];
var tel = arr[1];
var idCard = arr[2];  

name = "姓名："+name;
tel = "电话："+tel;
idCard = "身份证号："+idCard;

var cell = sender.eeChildren[0];
var c_name = cell.eeChildren[0];
var c_tel = cell.eeChildren[1];
var c_idCard = cell.eeChildren[2];    

ee.setText(c_name,""); 
ee.setText(c_tel,"");
ee.setText(c_idCard,"");

addText(c_name, name, "left", "bottom", "宋体", 9, "9B9B9B", "normal"); 
eb.setFontSizeAuto(c_name, 24); 
addText(c_tel, tel, "left", "bottom", "宋体", 9, "9B9B9B", "normal"); 
eb.setFontSizeAuto(c_tel, 24);
addText(c_idCard, idCard, "left", "top", "宋体", 9, "9B9B9B", "normal"); 
eb.setFontSizeAuto(c_idCard, 24);

//ee.setText(c_name,name);
//ee.setText(c_tel,tel);
//ee.setText(c_idCard,idCard);


</onUpdate>
      <sizeRatio>0.157657657657658</sizeRatio>
      <top>0</top>
      <width>444</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38/tablebody2/tablebodyitem14/panel39">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>60</height>
      <heightRatio>0.854700854700855</heightRatio>
      <left>21</left>
      <leftRatio>0.0464037122969838</leftRatio>
      <sizeRatio>0.256410256410256</sizeRatio>
      <top>5</top>
      <topRatio>0.0683760683760684</topRatio>
      <width>402</width>
      <widthRatio>0.904872389791183</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38/tablebody2/tablebodyitem14/panel39/panel40">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <hAlign>left</hAlign>
      <height>24</height>
      <heightRatio>0.4</heightRatio>
      <left>0</left>
      <sizeRatio>0.205128205128205</sizeRatio>
      <top>1</top>
      <topRatio>0.01</topRatio>
      <width>201</width>
      <widthRatio>0.5</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38/tablebody2/tablebodyitem14/panel39/panel41">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <hAlign>left</hAlign>
      <height>24</height>
      <heightRatio>0.4</heightRatio>
      <left>208</left>
      <leftRatio>0.517948717948718</leftRatio>
      <sizeRatio>0.216216216216216</sizeRatio>
      <top>1</top>
      <topRatio>0.02</topRatio>
      <width>191</width>
      <widthRatio>0.474358974358974</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38/tablebody2/tablebodyitem14/panel39/panel42">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <hAlign>left</hAlign>
      <height>24</height>
      <heightRatio>0.4</heightRatio>
      <left>1</left>
      <leftRatio>0.00256410256410256</leftRatio>
      <sizeRatio>0.103896103896104</sizeRatio>
      <top>30</top>
      <topRatio>0.5</topRatio>
      <width>397</width>
      <widthRatio>0.987179487179487</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38/tablebody2/temp1">
      <backgroundColor>f0f0f0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>70</height>
      <heightRatio>0.2</heightRatio>
      <left>0</left>
      <sizeRatio>正无穷大</sizeRatio>
      <top>70</top>
      <width>0</width>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38/tablebody2/temp2">
      <backgroundColor>d0d0d0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>70</height>
      <heightRatio>0.2</heightRatio>
      <left>0</left>
      <sizeRatio>正无穷大</sizeRatio>
      <top>70</top>
      <width>0</width>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38/tablebody2/temp3">
      <backgroundColor>f0f0f0</backgroundColor>
      <height>70</height>
      <heightRatio>0.2</heightRatio>
      <left>0</left>
      <onClick>var index = sender.rowIndex;
var str = ee.getText(ee.getControl("tablebody2").cols[1].rows[index]);

var arr = str.split("`");
var name = arr[0];
var tel = arr[1];
var idCard = arr[2];

ee.setEditText(ee.getControl("edit1"),name);
ee.setEditText(ee.getControl("edit2"),tel);
ee.setEditText(ee.getControl("edit3"),idCard);  


ee.setVisible(ee.getControl("panel31"),false); //遮罩层
ee.setVisible(ee.getControl("panel32"),false);  //选择使用人




</onClick>
      <sizeRatio>0.157657657657658</sizeRatio>
      <top>70</top>
      <width>444</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38/tablebody2/temp3/temp7">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>60</height>
      <heightRatio>0.854700854700855</heightRatio>
      <left>21</left>
      <leftRatio>0.0464037122969838</leftRatio>
      <sizeRatio>0.256410256410256</sizeRatio>
      <top>5</top>
      <topRatio>0.0683760683760684</topRatio>
      <width>402</width>
      <widthRatio>0.904872389791183</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38/tablebody2/temp3/temp7/temp9">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <hAlign>left</hAlign>
      <height>24</height>
      <heightRatio>0.4</heightRatio>
      <left>0</left>
      <sizeRatio>0.205128205128205</sizeRatio>
      <top>1</top>
      <topRatio>0.01</topRatio>
      <width>201</width>
      <widthRatio>0.5</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38/tablebody2/temp3/temp7/temp11">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <hAlign>left</hAlign>
      <height>24</height>
      <heightRatio>0.4</heightRatio>
      <left>208</left>
      <leftRatio>0.517948717948718</leftRatio>
      <sizeRatio>0.216216216216216</sizeRatio>
      <top>1</top>
      <topRatio>0.02</topRatio>
      <width>191</width>
      <widthRatio>0.474358974358974</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38/tablebody2/temp3/temp7/temp13">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <hAlign>left</hAlign>
      <height>24</height>
      <heightRatio>0.4</heightRatio>
      <left>1</left>
      <leftRatio>0.00256410256410256</leftRatio>
      <sizeRatio>0.103896103896104</sizeRatio>
      <top>30</top>
      <topRatio>0.5</topRatio>
      <width>397</width>
      <widthRatio>0.987179487179487</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38/tablebody2/temp4">
      <backgroundColor>f0f0f0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>70</height>
      <heightRatio>0.2</heightRatio>
      <left>0</left>
      <sizeRatio>正无穷大</sizeRatio>
      <top>140</top>
      <width>0</width>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38/tablebody2/temp5">
      <backgroundColor>d0d0d0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>70</height>
      <heightRatio>0.2</heightRatio>
      <left>0</left>
      <sizeRatio>正无穷大</sizeRatio>
      <top>140</top>
      <width>0</width>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38/tablebody2/temp6">
      <backgroundColor>f0f0f0</backgroundColor>
      <height>70</height>
      <heightRatio>0.2</heightRatio>
      <left>0</left>
      <onClick>var index = sender.rowIndex;
var str = ee.getText(ee.getControl("tablebody2").cols[1].rows[index]);

var arr = str.split("`");
var name = arr[0];
var tel = arr[1];
var idCard = arr[2];

ee.setEditText(ee.getControl("edit1"),name);
ee.setEditText(ee.getControl("edit2"),tel);
ee.setEditText(ee.getControl("edit3"),idCard);  


ee.setVisible(ee.getControl("panel31"),false); //遮罩层
ee.setVisible(ee.getControl("panel32"),false);  //选择使用人




</onClick>
      <sizeRatio>0.157657657657658</sizeRatio>
      <top>140</top>
      <width>444</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38/tablebody2/temp6/temp8">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>60</height>
      <heightRatio>0.854700854700855</heightRatio>
      <left>21</left>
      <leftRatio>0.0464037122969838</leftRatio>
      <sizeRatio>0.256410256410256</sizeRatio>
      <top>5</top>
      <topRatio>0.0683760683760684</topRatio>
      <width>402</width>
      <widthRatio>0.904872389791183</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38/tablebody2/temp6/temp8/temp10">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <hAlign>left</hAlign>
      <height>24</height>
      <heightRatio>0.4</heightRatio>
      <left>0</left>
      <sizeRatio>0.205128205128205</sizeRatio>
      <top>1</top>
      <topRatio>0.01</topRatio>
      <width>201</width>
      <widthRatio>0.5</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38/tablebody2/temp6/temp8/temp12">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <hAlign>left</hAlign>
      <height>24</height>
      <heightRatio>0.4</heightRatio>
      <left>208</left>
      <leftRatio>0.517948717948718</leftRatio>
      <sizeRatio>0.216216216216216</sizeRatio>
      <top>1</top>
      <topRatio>0.02</topRatio>
      <width>191</width>
      <widthRatio>0.474358974358974</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38/tablebody2/temp6/temp8/temp14">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <hAlign>left</hAlign>
      <height>24</height>
      <heightRatio>0.4</heightRatio>
      <left>1</left>
      <leftRatio>0.00256410256410256</leftRatio>
      <sizeRatio>0.103896103896104</sizeRatio>
      <top>30</top>
      <topRatio>0.5</topRatio>
      <width>397</width>
      <widthRatio>0.987179487179487</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38/tablebody2/temp15">
      <backgroundColor>f0f0f0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>70</height>
      <heightRatio>0.2</heightRatio>
      <left>0</left>
      <sizeRatio>正无穷大</sizeRatio>
      <top>210</top>
      <width>0</width>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38/tablebody2/temp16">
      <backgroundColor>d0d0d0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>70</height>
      <heightRatio>0.2</heightRatio>
      <left>0</left>
      <sizeRatio>正无穷大</sizeRatio>
      <top>210</top>
      <width>0</width>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38/tablebody2/temp17">
      <backgroundColor>f0f0f0</backgroundColor>
      <height>70</height>
      <heightRatio>0.2</heightRatio>
      <left>0</left>
      <onClick>var index = sender.rowIndex;
var str = ee.getText(ee.getControl("tablebody2").cols[1].rows[index]);

var arr = str.split("`");
var name = arr[0];
var tel = arr[1];
var idCard = arr[2];

ee.setEditText(ee.getControl("edit1"),name);
ee.setEditText(ee.getControl("edit2"),tel);
ee.setEditText(ee.getControl("edit3"),idCard);  


ee.setVisible(ee.getControl("panel31"),false); //遮罩层
ee.setVisible(ee.getControl("panel32"),false);  //选择使用人




</onClick>
      <sizeRatio>0.157657657657658</sizeRatio>
      <top>210</top>
      <width>444</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38/tablebody2/temp17/temp18">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>60</height>
      <heightRatio>0.854700854700855</heightRatio>
      <left>21</left>
      <leftRatio>0.0464037122969838</leftRatio>
      <sizeRatio>0.256410256410256</sizeRatio>
      <top>5</top>
      <topRatio>0.0683760683760684</topRatio>
      <width>402</width>
      <widthRatio>0.904872389791183</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38/tablebody2/temp17/temp18/temp19">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <hAlign>left</hAlign>
      <height>24</height>
      <heightRatio>0.4</heightRatio>
      <left>0</left>
      <sizeRatio>0.205128205128205</sizeRatio>
      <top>1</top>
      <topRatio>0.01</topRatio>
      <width>201</width>
      <widthRatio>0.5</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38/tablebody2/temp17/temp18/temp20">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <hAlign>left</hAlign>
      <height>24</height>
      <heightRatio>0.4</heightRatio>
      <left>208</left>
      <leftRatio>0.517948717948718</leftRatio>
      <sizeRatio>0.216216216216216</sizeRatio>
      <top>1</top>
      <topRatio>0.02</topRatio>
      <width>191</width>
      <widthRatio>0.474358974358974</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38/tablebody2/temp17/temp18/temp21">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <hAlign>left</hAlign>
      <height>24</height>
      <heightRatio>0.4</heightRatio>
      <left>1</left>
      <leftRatio>0.00256410256410256</leftRatio>
      <sizeRatio>0.103896103896104</sizeRatio>
      <top>30</top>
      <topRatio>0.5</topRatio>
      <width>397</width>
      <widthRatio>0.987179487179487</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38/tablebody2/temp22">
      <backgroundColor>f0f0f0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>70</height>
      <heightRatio>0.2</heightRatio>
      <left>0</left>
      <sizeRatio>正无穷大</sizeRatio>
      <top>280</top>
      <width>0</width>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38/tablebody2/temp23">
      <backgroundColor>d0d0d0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>70</height>
      <heightRatio>0.2</heightRatio>
      <left>0</left>
      <sizeRatio>正无穷大</sizeRatio>
      <top>280</top>
      <width>0</width>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38/tablebody2/temp24">
      <backgroundColor>f0f0f0</backgroundColor>
      <height>70</height>
      <heightRatio>0.2</heightRatio>
      <left>0</left>
      <onClick>var index = sender.rowIndex;
var str = ee.getText(ee.getControl("tablebody2").cols[1].rows[index]);

var arr = str.split("`");
var name = arr[0];
var tel = arr[1];
var idCard = arr[2];

ee.setEditText(ee.getControl("edit1"),name);
ee.setEditText(ee.getControl("edit2"),tel);
ee.setEditText(ee.getControl("edit3"),idCard);  


ee.setVisible(ee.getControl("panel31"),false); //遮罩层
ee.setVisible(ee.getControl("panel32"),false);  //选择使用人




</onClick>
      <sizeRatio>0.157657657657658</sizeRatio>
      <top>280</top>
      <width>444</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38/tablebody2/temp24/temp25">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>60</height>
      <heightRatio>0.854700854700855</heightRatio>
      <left>21</left>
      <leftRatio>0.0464037122969838</leftRatio>
      <sizeRatio>0.256410256410256</sizeRatio>
      <top>5</top>
      <topRatio>0.0683760683760684</topRatio>
      <width>402</width>
      <widthRatio>0.904872389791183</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38/tablebody2/temp24/temp25/temp26">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <hAlign>left</hAlign>
      <height>24</height>
      <heightRatio>0.4</heightRatio>
      <left>0</left>
      <sizeRatio>0.205128205128205</sizeRatio>
      <top>1</top>
      <topRatio>0.01</topRatio>
      <width>201</width>
      <widthRatio>0.5</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38/tablebody2/temp24/temp25/temp27">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <hAlign>left</hAlign>
      <height>24</height>
      <heightRatio>0.4</heightRatio>
      <left>208</left>
      <leftRatio>0.517948717948718</leftRatio>
      <sizeRatio>0.216216216216216</sizeRatio>
      <top>1</top>
      <topRatio>0.02</topRatio>
      <width>191</width>
      <widthRatio>0.474358974358974</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel32/panel38/tablebody2/temp24/temp25/temp28">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <hAlign>left</hAlign>
      <height>24</height>
      <heightRatio>0.4</heightRatio>
      <left>1</left>
      <leftRatio>0.00256410256410256</leftRatio>
      <sizeRatio>0.103896103896104</sizeRatio>
      <top>30</top>
      <topRatio>0.5</topRatio>
      <width>397</width>
      <widthRatio>0.987179487179487</widthRatio>
    </control>
  </controls>
  <taskSet count="3">
    <taskSetItem name="query">
      <script1>//查询 使用说明、start_time、end_time 、price、project_name、validtime

eio.appendString8(g5.id); 
</script1>
      <script2> var id = eio.readString8();
var sql,sqlResult;

sql = "select pid,mid,type,item,project_name,price,date,start_time,end_time,location,goods_id from ujia_shoplist where id='"+id+"'";
sqlResult = db.executeQuery("UJ",sql);  

db.read(sqlResult);
var pid = db.getString(sqlResult,"pid");
var project_name = db.getString(sqlResult,"project_name");
var date = db.getString(sqlResult,"date");
var start_time = db.getString(sqlResult,"start_time");
var end_time = db.getString(sqlResult,"end_time");
var price = db.getString(sqlResult,"price");    
var mid = db.getString(sqlResult,"mid");
var type = db.getString(sqlResult,"type");
var item = db.getString(sqlResult,"item");
var location = db.getString(sqlResult,"location");  
var goods_id = db.getString(sqlResult,"goods_id");    

//es.logWarning("goods_id="+goods_id);

sql = "select instructions from ujia_simulation where id='"+pid+"'";
sqlResult1 = db.executeQuery("UJ",sql);
db.read(sqlResult1);
var instructions = db.getString(sqlResult1,"instructions");

eio.appendString8("T");
eio.appendString8(project_name);  
eio.appendString8(price);
eio.appendString8(date);
eio.appendString8(start_time);
eio.appendString8(end_time);
eio.appendString32(instructions);  
eio.appendString8(mid);  
eio.appendString8(type);
eio.appendString8(item);            
eio.appendString8(location);
eio.appendString8(goods_id);  
eio.appendString8(pid);

 /*
pid,mid,price,type,item,project_name,date
location,goods_id,start_time,end_time,csrf;
 */</script2>
      <script3>var code = eio.readString8();
if (code != "T"){
    alert("执行query失败");
    return;
}          

var project_name = eio.readString8(); 
var price = eio.readString8(); 
var date = eio.readString8();
var start_time = eio.readString8();
var end_time = eio.readString8();
var instructions = eio.readString32(); 
g5.mid = eio.readString8();  
g5.type = eio.readString8();
g5.item = eio.readString8();
g5.location = eio.readString8();
g5.goods_id = eio.readString8(); 
g5.pid = eio.readString8(); 
g5.project_name = project_name; 
g5.price = price
g5.date = date
g5.start_time = start_time
g5.end_time = end_time   

var tmp = date;    

//console.log("getdate="+date);

//处理  
date = ts.getDateTS(date);    
var day = new Date(date).getDay();

date = date.replace("/","-");  
date = date.replace("/","-");
var index = date.indexOf("-");  
if (index != -1){
    date = date.substring(index+1);
}  
console.log(date);
var arr = date.split("-");
if (arr[0].length == 1){
    arr[0] = "0" +arr[0];
}
if (arr[1].length == 1){
    arr[1] = "0"+ arr[1];
}     
date = arr[0] + "-" + arr[1];

start_time = ts.getHourMinTS(start_time);
end_time = ts.getHourMinTS(end_time);
price = "￥"+price; 


switch(day){
    case 1: day = "周一";break;
    case 2: day = "周二";break; 
    case 3: day = "周三";break;
    case 4: day = "周四";break;
    case 5: day = "周五";break;
    case 6: day = "周六";break;
    case 0: day = "周日";break;
    
}

//写入
ee.setText(ee.getControl("panel20"),instructions);   
var intro = ee.getControl("panel20");
intro.style.lineHeight = 2;    

ee.setText(ee.getControl("panel24"),start_time);
ee.setText(ee.getControl("panel26"),end_time); 
ee.setText(ee.getControl("panel23"),price);
ee.setText(ee.getControl("panel28"),date);
ee.setText(ee.getControl("panel29"),day);
ee.setText(ee.getControl("panel30"),project_name);

console.log(date +" "+ start_time + ' '+ end_time) ;     

var c_date = date;
var c_startTime = start_time;
c_date = c_date.replace("-","");
c_startTime = c_startTime.replace(":","");   
c_startTime = c_startTime.replace("：",""); 
var c_str = "";
if(c_startTime != ""){
    c_str = c_date + c_startTime;    
}else if (c_date != ""){
    c_str = c_date;
}else {}

//console.log(c_str);
g5.c_str = c_str; //用于 toPay中组成sessionKey   




  
  

    

</script3>
    </taskSetItem>
    <taskSetItem name="getUserInfo">
      <script1>var id = 1;

eio.appendInt32(id);</script1>
      <script2>var id = eio.readInt32();

var sql,sqlResult;
sql = "select id, concat_ws('`',name,tel,idcard) as data from ujia_user_infomation where uid = '"+id+"' order by id desc";  
//es.logWarning(sql);   


sqlResult = db.executeQuery("UJ",sql);   


eio.appendString8("T");
eio.appendDataSet(sqlResult,"id,data,data",0,1000);
  </script2>
      <script3>
var c = eio.readString8();
if (c != "T"){
    alert("error!");
    return;
}          

var data = eio.readDataSet();    

console.log(data);
ee.setTableData(ee.getControl("tablebody2"),data,0);

   </script3>
    </taskSetItem>
    <taskSetItem name="toPay">
      <script1><![CDATA[var username = ee.getEditText(ee.getControl("edit1")); 
var tel = ee.getEditText(ee.getControl("edit2"));
var idCard = ee.getEditText(ee.getControl("edit3"));

var pid = g5.pid;
var mid = g5.mid; 
var price = g5.price;
var type = g5.type;
var project = g5.item;
var project_name = g5.project_name;
var date = g5.date;
var location = g5.location;
var start_time = g5.start_time;
var end_time = g5.end_time;
var goods_id = g5.goods_id;

var token = g5.token;    

var uid = "1";  //等待改为变量 

var nowTime = ts.getTimestamp();   
var orderId = (nowTime+"").substring(1) + (Math.random()+"").substr(2,1) + uid;  //获得订单号

var addSecret = function (value){ //用 sha1 加密保留2位小数的价格
    function returnFloat(value){
        var value = Math.round(parseFloat(value)*100)/100;
        var xsd = value.toString().split(".");
        if(xsd.length==1){
            value = value.toString()+".00";
            return value;
        }
        if(xsd.length>1){
            if(xsd[1].length<2){
                value = value.toString()+"0";
            }
            return value;
        }
    }

    var tmp = returnFloat(value)
    var key1 = "uhjd76868agwe23yt";
    var key2 = "sdfuya89wy3hk4jh9"
    var str = key1 + tmp + key2;
    var secret = hex_sha1(str) + ""; //转字符串
    return secret;
} 

var s_price = addSecret(price);   

var c_str = g5.c_str;



eio.appendString8(type);
eio.appendString8(uid);  
eio.appendString8(goods_id);
eio.appendString8(pid);
eio.appendString8(mid);
eio.appendString8(price);
eio.appendString8(project);
eio.appendString8(project_name);
eio.appendString8(date);
eio.appendString8(location);
eio.appendString8(start_time);
eio.appendString8(end_time);
eio.appendString8(username);
eio.appendString8(tel);
eio.appendString8(idCard); 
  
eio.appendString8(token);  
eio.appendInt32(nowTime);
eio.appendString8(orderId);  
eio.appendString8(s_price);  
eio.appendString8(c_str);
 

//console.log("topay pre end")]]></script1>
      <script2><![CDATA[var type = eio.readString8();
var uid = eio.readString8();   //考虑使用 session 获取 uid
var goods_id = eio.readString8(); 
var pid = eio.readString8();
var mid = eio.readString8();
var price = eio.readString8();
var item = eio.readString8();   
var project = item;
var project_name = eio.readString8();
var date = eio.readString8();
var location = eio.readString8();
var start_time = eio.readString8();
var end_time = eio.readString8();
var username = eio.readString8();
var tel = eio.readString8();
var idCard = eio.readString8();
var token = eio.readString8();
var nowTime = eio.readInt32(); 
var orderId = eio.readString8(); 
var s_price = eio.readString8();   //sha1 加密过的价格（字符串） 
var c_str = eio.readString8();    //用于组成sessionKey 

var status = 0;

var tableName = ""; 
if (type == 1) {
    if (item == 1) {
        tableName = "ujia_simulation_reverse";
    } else if (item == 2) {
        tableName = "ujia_simulation_path";
    } else {
        tableName = "ujia_simulation_road";
    }
} else if (type == 2) {
    tableName = "ujia_examination_quote";
} else {
    tableName = "ujia_goods";
}   

//获取sessionkey
var sessionKey = uid + "_order_" + pid + project + type + c_str;  
var sessionCode = session.get(sessionKey);     
var first_submit_time;
var current_time;
if (sessionCode != ""){
    first_submit_time = sessionCode;
    current_time = nowTime;
    if (current_time - first_submit_time < 60){
        session.set(sessionKey,current_time);
        eio.appendString8("F");
        eio.appendString8("订单已经提交，请进入会员中心完成付款！");
        return;
    }else {
        session.set(sessionKey,"");    //超过限制时间，释放session";
    }
}else {
    session.set(sessionKey,nowTime);
}


var sql,sqlResult; 

//检查 商品 及 数量
sql = "select * from "+ tableName +" where id = '"+ goods_id +"'";  
//es.logWarning(sql);
sqlResult = db.executeQuery("UJ",sql);

if (sqlResult == null){
    eio.appendString8("F");
    eio.appendString8("没有相关商品！！"); 
    return;  
}  
db.read(sqlResult);
var goods_num = db.getString(sqlResult,"num");
if (goods_num <= 0){
    eio.appendString8("F");
    eio.appendString8("手慢了，票被别人抢走了！"); 
    return;
} 
 /*
eio.appendString8("T");
eio.appendString8("Success"); 
  */

//插入订单表
//处理数据
sql = "insert into ujia_order (uid,goods_id,pid,mid,orderid,type,item,project_name,total_money,"+
      "total_secret,pay_money,pay_secret,date,location,start_time,end_time,"+
      "username,tel,idcard,status,create_time,update_time) "+ 
      "values("+uid+",'"+goods_id+"','"+pid+"','"+mid+"','"+orderId+"','"+type+"','"+item+"','"+project_name+"','"+price+"'"+
      ",'"+s_price+"','"+price+"','"+s_price+"','"+date+"','"+location+"','"+start_time+"','"+end_time+"'"+
      ",'"+username+"','"+tel+"','"+idCard+"','"+status+"','"+nowTime+"','"+nowTime+"'); ";
sqlResult = db.executeQuery("UJ",sql);      
     
var sql1 = "select id as getId from ujia_order where uid ='"+uid+"' order by id desc limit 1;"
sqlResult = db.executeQuery("UJ",sql1);
db.read(sqlResult);
var insert_id  = db.getString(sqlResult,"getId");
//es.logWarning("insert_id="+insert_id) ;           

//写入session
session.set(sessionKey,nowTime);

eio.appendString8("T");
eio.appendString8(insert_id);




]]></script2>
      <script3>var code = eio.readString8();
if (code != "T"){
    alert(""+eio.readString8());
    return;
}          

var insert_id = eio.readString8(); 

var back_url = g5.backThisPage_url;

//window.location.href = ee.pageRoot + "/pay/getCode&amp;insert_id=" + insert_id + "&amp;back_url=" + back_url;    
window.location.href = ee.pageRoot + "/pay&amp;insert_id=" + insert_id + "&amp;back_url=" + back_url;


</script3>
    </taskSetItem>
  </taskSet>
  <gridLines count="0" />
</page>