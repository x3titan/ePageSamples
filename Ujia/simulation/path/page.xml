<page>
  <controls count="115">
    <control type="DivRoot" pathname="/divRoot">
      <backgroundColor>ffffff</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>816</height>
      <left>0</left>
      <onControlLoad>query();
</onControlLoad>
      <pageHead><![CDATA[<meta name="viewport" content="width=device-width, minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">]]></pageHead>
      <top>0</top>
      <width>440</width>
    </control>
    <control type="Panel" pathname="/divRoot/panel1">
      <backgroundColor>F3F3F3</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>816</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>1.71069182389937</sizeRatio>
      <top>0</top>
      <width>440</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel2">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontBold>true</fontBold>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>22</fontSizeAuto>
      <height>60</height>
      <heightRatio>0.0735294117647059</heightRatio>
      <left>0</left>
      <sizeRatio>0.137931034482759</sizeRatio>
      <top>0</top>
      <width>440</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel2/panel6">
      <backgroundImg>zy.png</backgroundImg>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>30</height>
      <heightRatio>0.5</heightRatio>
      <left>13</left>
      <leftRatio>0.0298850574712644</leftRatio>
      <onClick>window.location.href = ee.pageRoot + "/main";</onClick>
      <sizeRatio>1.07142857142857</sizeRatio>
      <top>15</top>
      <topRatio>0.25</topRatio>
      <width>28</width>
      <widthRatio>0.064367816091954</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel2/panel7">
      <backgroundImg>index.png</backgroundImg>
      <backgroundImgMode>stretch</backgroundImgMode>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>30</height>
      <heightRatio>0.5</heightRatio>
      <left>390</left>
      <leftRatio>0.88735632183908</leftRatio>
      <onClick>window.location.href = ee.pageRoot + "/userCenter";
</onClick>
      <sizeRatio>1.07142857142857</sizeRatio>
      <top>15</top>
      <topRatio>0.25</topRatio>
      <width>28</width>
      <widthRatio>0.064367816091954</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel2/panel3">
      <backgroundColor>FFE0C0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>50</height>
      <heightRatio>0.833333333333333</heightRatio>
      <left>80</left>
      <leftRatio>0.181609195402299</leftRatio>
      <sizeRatio>0.181159420289855</sizeRatio>
      <top>5</top>
      <topRatio>0.0833333333333333</topRatio>
      <width>279</width>
      <widthRatio>0.63448275862069</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel4">
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>240</height>
      <heightRatio>0.294117647058824</heightRatio>
      <layerName>order_no</layerName>
      <layerVisible>false</layerVisible>
      <left>98</left>
      <leftRatio>0.222988505747126</leftRatio>
      <sizeRatio>1</sizeRatio>
      <top>288</top>
      <topRatio>0.352941176470588</topRatio>
      <width>243</width>
      <widthRatio>0.551724137931034</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel4/panel5">
      <backgroundImg>dingdan_no.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>142</height>
      <heightRatio>0.591666666666667</heightRatio>
      <left>35</left>
      <leftRatio>0.145833333333333</leftRatio>
      <sizeRatio>0.835294117647059</sizeRatio>
      <top>18</top>
      <topRatio>0.075</topRatio>
      <width>172</width>
      <widthRatio>0.708333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel4/panel8">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontColor>676767</fontColor>
      <fontSizeAuto>24</fontSizeAuto>
      <height>45</height>
      <heightRatio>0.1875</heightRatio>
      <left>29</left>
      <leftRatio>0.120833333333333</leftRatio>
      <sizeRatio>0.247252747252747</sizeRatio>
      <text>今日暂无票务信息</text>
      <top>167</top>
      <topRatio>0.695833333333333</topRatio>
      <width>184</width>
      <widthRatio>0.758333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>736</height>
      <heightRatio>0.901960784313726</heightRatio>
      <left>0</left>
      <sizeRatio>1.53653444676409</sizeRatio>
      <top>80</top>
      <topRatio>0.0980392156862745</topRatio>
      <width>440</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="TableTitle" pathname="/divRoot/panel1/panel9/tabletitle1">
      <backgroundColor>0000FF</backgroundColor>
      <columnCount>3</columnCount>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>1</height>
      <heightRatio>0.00135869565217391</heightRatio>
      <left>0</left>
      <sizeRatio>0.00208768267223382</sizeRatio>
      <tableBody>tablebody1</tableBody>
      <top>0</top>
      <width>440</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="TableTitleItem" pathname="/divRoot/panel1/panel9/tabletitle1/tabletitleitem1">
      <backgroundColor>0000FF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>1</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>0.00209643605870021</sizeRatio>
      <top>0</top>
      <width>440</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="TableTitleItem" pathname="/divRoot/panel1/panel9/tabletitle1/tabletitleitem2">
      <backgroundColor>d0d0d0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <heavy>0</heavy>
      <height>1</height>
      <heightRatio>1</heightRatio>
      <left>440</left>
      <leftRatio>1</leftRatio>
      <sizeRatio>正无穷大</sizeRatio>
      <top>0</top>
      <width>0</width>
    </control>
    <control type="TableTitleItem" pathname="/divRoot/panel1/panel9/tabletitle1/tabletitleitem3">
      <backgroundColor>f0f0f0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <heavy>0</heavy>
      <height>1</height>
      <heightRatio>1</heightRatio>
      <left>440</left>
      <leftRatio>1</leftRatio>
      <sizeRatio>正无穷大</sizeRatio>
      <top>0</top>
      <width>0</width>
    </control>
    <control type="TableBody" pathname="/divRoot/panel1/panel9/tablebody1">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>736</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>1.79572446555819</sizeRatio>
      <tableTitle>tabletitle1</tableTitle>
      <top>1</top>
      <topRatio>0.00132275132275132</topRatio>
      <width>440</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="TableBodyItem" pathname="/divRoot/panel1/panel9/tablebody1/tablebodyitem1">
      <backgroundColor>FFFFFF</backgroundColor>
      <height>74</height>
      <heightRatio>0.10054347826087</heightRatio>
      <left>0</left>
      <onUpdate><![CDATA[var str = text;
//console.log(str);
if (text ==""){
    return;
} 
var arr = str.split("`");
var id = arr[0];
var start_time = arr[1];
var end_time = arr[2];
var price = arr[3];
var num = arr[4]; 
var sell_time = arr[5];
var sale_status = arr[6];
console.log("time::"+sell_time);
console.log(sale_status);    

 
//根据时间戳获取小时数和分钟数的函数 如：10:33
var getHours = function(timestamp){
    var newDate = new Date();         
    var index;
    newDate.setTime(timestamp * 1000);  
    var time = newDate.toTimeString(); 
    if(time != ""){
        index = time.indexOf(" ");
        time = time.substr(0,index);
        index = time.lastIndexOf(":");
        time = time.substr(0,index);       
        return time;
    }else {
        alert("function getHours error!");
        return "";
    } 
         
};
  

start_time_new = getHours(start_time);  
end_time_new = getHours(end_time);

var cell = sender;
    ee.setText(cell.eeChildren[0],start_time_new);
    ee.setText(cell.eeChildren[2],end_time_new);
    ee.setText(cell.eeChildren[3].eeChildren[0],"￥"+price);
    ee.setText(cell.eeChildren[3].eeChildren[1],"剩余"+num+"张");  
    ee.setImage(cell.eeChildren[1], "/ujia/simulation/path/jiantou.png", "stretch");  
    cell.style.backgroundColor = "white";  
    
//预订、已售罄、已过期、起售 的判断   
var start = g5.date_now + " " + start_time_new;
console.log(start);
var start_time_c = Date.parse(new Date(start))/1000;
          
console.log(start_time);
console.log(g5.timestamp_now);
var btn_name="";
if (start_time_c < g5.timestamp_now){
    btn_name = "已过期" ;
}else if (num > 0 &amp;&amp; sale_status == 0){
    btn_name = "预定";
}else if (num > 0 &amp;&amp; sale_status == 1 &amp;&amp; sell_time < g5.timestamp_now){
    btn_name = "预定";
}else if (num > 0 &amp;&amp; sale_status == 1 &amp;&amp; sell_time > g5.timestamp_now){
    btn_name = "起售";
}else {
    btn_name = "已售罄";
}  
var cell4 = cell.eeChildren[4];
ee.setText(cell.eeChildren[4],btn_name);   
if (btn_name == "预定"){
    cell4.style.backgroundColor = "#FF8204";
    cell4.style.color = "white";
    cell4.style.textSize = "24px";
}else {
    cell4.style.textColor = "#BBBBBB";
}
  
    
        
]]></onUpdate>
      <sizeRatio>0.155136268343816</sizeRatio>
      <top>0</top>
      <width>440</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/tablebodyitem1/panel10">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontSizeAuto>24</fontSizeAuto>
      <height>35</height>
      <heightRatio>0.466666666666667</heightRatio>
      <left>10</left>
      <leftRatio>0.0233050847457627</leftRatio>
      <sizeRatio>0.416666666666667</sizeRatio>
      <top>20</top>
      <topRatio>0.266666666666667</topRatio>
      <width>78</width>
      <widthRatio>0.177966101694915</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/tablebodyitem1/panel11">
      <backgroundImgMode>stretch</backgroundImgMode>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>10</height>
      <heightRatio>0.133333333333333</heightRatio>
      <left>92</left>
      <leftRatio>0.209745762711864</leftRatio>
      <sizeRatio>0.119047619047619</sizeRatio>
      <top>32</top>
      <topRatio>0.426666666666667</topRatio>
      <width>78</width>
      <widthRatio>0.177966101694915</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/tablebodyitem1/panel12">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>35</height>
      <heightRatio>0.466666666666667</heightRatio>
      <left>175</left>
      <leftRatio>0.39667458432304</leftRatio>
      <sizeRatio>0.466666666666667</sizeRatio>
      <top>20</top>
      <topRatio>0.266666666666667</topRatio>
      <width>78</width>
      <widthRatio>0.178147268408551</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/tablebodyitem1/panel13">
      <backgroundColor>808000</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>74</height>
      <heightRatio>1</heightRatio>
      <left>268</left>
      <leftRatio>0.608076009501188</leftRatio>
      <sizeRatio>0.9375</sizeRatio>
      <top>0</top>
      <width>84</width>
      <widthRatio>0.190023752969121</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/tablebodyitem1/panel13/panel14">
      <backgroundColor>FFE0C0</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>30</height>
      <heightRatio>0.4</heightRatio>
      <left>0</left>
      <sizeRatio>0.333333333333333</sizeRatio>
      <top>2</top>
      <topRatio>0.0266666666666667</topRatio>
      <vAlign>bottom</vAlign>
      <width>84</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/tablebodyitem1/panel13/panel15">
      <backgroundColor>C0FFFF</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>30</height>
      <heightRatio>0.4</heightRatio>
      <left>0</left>
      <sizeRatio>0.333333333333333</sizeRatio>
      <top>33</top>
      <topRatio>0.44</topRatio>
      <vAlign>top</vAlign>
      <width>84</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/tablebodyitem1/panel16">
      <backgroundColor>FF8080</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>33</height>
      <heightRatio>0.445945945945946</heightRatio>
      <left>362</left>
      <leftRatio>0.822546972860125</leftRatio>
      <onClick><![CDATA[if(ee.getText(this) == "预定"){
    //判断时间是否过期
    var start_time = ee.getText(this.parentNode.eeChildren[0]);
    console.log(start_time);
    var str_time = g5.date_now + " " + start_time;
    var start_timestamp = Date.parse(new Date(str_time))/1000;  
    var now_timestamp = Date.parse(new Date(str_time))/1000;  

    if (start_timestamp < now_timestamp ){
        alert("该时段票已过期，请重新选择");
        query();
        return;
    }

    //获取id，查出数量并判断
    var index = (this.parentNode).rowIndex;   
    var id = ee.getText(ee.getControl("tablebody1").cols[1].rows[index]); 
    var str_use_in_saveToShoplist =  ee.getText(ee.getControl("tablebody1").cols[2].rows[index]);  
    if (id != ""){ 
        g5.checkNum_id = id;  
        g5.save_str = str_use_in_saveToShoplist;
        checkNum();
    }else {
        alert("id is null");
        return;
    }
}else {
    return;
}]]></onClick>
      <sizeRatio>0.4125</sizeRatio>
      <top>20</top>
      <topRatio>0.27027027027027</topRatio>
      <width>73</width>
      <widthRatio>0.167014613778706</widthRatio>
    </control>
    <control type="TableBodyItem" pathname="/divRoot/panel1/panel9/tablebody1/tablebodyitem2">
      <backgroundColor>d0d0d0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>74</height>
      <heightRatio>0.10054347826087</heightRatio>
      <left>440</left>
      <leftRatio>1</leftRatio>
      <sizeRatio>正无穷大</sizeRatio>
      <top>0</top>
      <width>0</width>
    </control>
    <control type="TableBodyItem" pathname="/divRoot/panel1/panel9/tablebody1/tablebodyitem3">
      <backgroundColor>f0f0f0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>74</height>
      <heightRatio>0.10054347826087</heightRatio>
      <left>440</left>
      <leftRatio>1</leftRatio>
      <sizeRatio>正无穷大</sizeRatio>
      <top>0</top>
      <width>0</width>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp1">
      <backgroundColor>FFFFFF</backgroundColor>
      <height>73</height>
      <heightRatio>0.10054347826087</heightRatio>
      <left>0</left>
      <sizeRatio>0.155136268343816</sizeRatio>
      <top>74</top>
      <width>440</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp1/temp10">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontSizeAuto>24</fontSizeAuto>
      <height>35</height>
      <heightRatio>0.466666666666667</heightRatio>
      <left>10</left>
      <leftRatio>0.0233050847457627</leftRatio>
      <sizeRatio>0.416666666666667</sizeRatio>
      <top>20</top>
      <topRatio>0.266666666666667</topRatio>
      <width>78</width>
      <widthRatio>0.177966101694915</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp1/temp19">
      <backgroundImgMode>stretch</backgroundImgMode>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>10</height>
      <heightRatio>0.133333333333333</heightRatio>
      <left>92</left>
      <leftRatio>0.209745762711864</leftRatio>
      <sizeRatio>0.119047619047619</sizeRatio>
      <top>32</top>
      <topRatio>0.426666666666667</topRatio>
      <width>78</width>
      <widthRatio>0.177966101694915</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp1/temp28">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>35</height>
      <heightRatio>0.466666666666667</heightRatio>
      <left>175</left>
      <leftRatio>0.39667458432304</leftRatio>
      <sizeRatio>0.466666666666667</sizeRatio>
      <top>20</top>
      <topRatio>0.266666666666667</topRatio>
      <width>78</width>
      <widthRatio>0.178147268408551</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp1/temp37">
      <backgroundColor>808000</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>74</height>
      <heightRatio>1</heightRatio>
      <left>268</left>
      <leftRatio>0.608076009501188</leftRatio>
      <sizeRatio>0.9375</sizeRatio>
      <top>0</top>
      <width>84</width>
      <widthRatio>0.190023752969121</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp1/temp37/temp46">
      <backgroundColor>FFE0C0</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>30</height>
      <heightRatio>0.4</heightRatio>
      <left>0</left>
      <sizeRatio>0.333333333333333</sizeRatio>
      <top>2</top>
      <topRatio>0.0266666666666667</topRatio>
      <vAlign>bottom</vAlign>
      <width>84</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp1/temp37/temp55">
      <backgroundColor>C0FFFF</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>30</height>
      <heightRatio>0.4</heightRatio>
      <left>0</left>
      <sizeRatio>0.333333333333333</sizeRatio>
      <top>33</top>
      <topRatio>0.44</topRatio>
      <vAlign>top</vAlign>
      <width>84</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp1/temp64">
      <backgroundColor>FF8080</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>33</height>
      <heightRatio>0.445945945945946</heightRatio>
      <left>362</left>
      <leftRatio>0.822546972860125</leftRatio>
      <onClick><![CDATA[if(ee.getText(this) == "预定"){
    //判断时间是否过期
    var start_time = ee.getText(this.parentNode.eeChildren[0]);
    console.log(start_time);
    var str_time = g5.date_now + " " + start_time;
    var start_timestamp = Date.parse(new Date(str_time))/1000;  
    var now_timestamp = Date.parse(new Date(str_time))/1000;  

    if (start_timestamp < now_timestamp ){
        alert("该时段票已过期，请重新选择");
        query();
        return;
    }

    //获取id，查出数量并判断
    var index = (this.parentNode).rowIndex;   
    var id = ee.getText(ee.getControl("tablebody1").cols[1].rows[index]); 
    var str_use_in_saveToShoplist =  ee.getText(ee.getControl("tablebody1").cols[2].rows[index]);  
    if (id != ""){ 
        g5.checkNum_id = id;  
        g5.save_str = str_use_in_saveToShoplist;
        checkNum();
    }else {
        alert("id is null");
        return;
    }
}else {
    return;
}]]></onClick>
      <sizeRatio>0.4125</sizeRatio>
      <top>20</top>
      <topRatio>0.27027027027027</topRatio>
      <width>73</width>
      <widthRatio>0.167014613778706</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp2">
      <backgroundColor>d0d0d0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>73</height>
      <heightRatio>0.10054347826087</heightRatio>
      <left>440</left>
      <leftRatio>1</leftRatio>
      <sizeRatio>正无穷大</sizeRatio>
      <top>74</top>
      <width>0</width>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp3">
      <backgroundColor>f0f0f0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>73</height>
      <heightRatio>0.10054347826087</heightRatio>
      <left>440</left>
      <leftRatio>1</leftRatio>
      <sizeRatio>正无穷大</sizeRatio>
      <top>74</top>
      <width>0</width>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp4">
      <backgroundColor>FFFFFF</backgroundColor>
      <height>74</height>
      <heightRatio>0.10054347826087</heightRatio>
      <left>0</left>
      <sizeRatio>0.155136268343816</sizeRatio>
      <top>147</top>
      <width>440</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp4/temp11">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontSizeAuto>24</fontSizeAuto>
      <height>35</height>
      <heightRatio>0.466666666666667</heightRatio>
      <left>10</left>
      <leftRatio>0.0233050847457627</leftRatio>
      <sizeRatio>0.416666666666667</sizeRatio>
      <top>20</top>
      <topRatio>0.266666666666667</topRatio>
      <width>78</width>
      <widthRatio>0.177966101694915</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp4/temp12">
      <backgroundImgMode>stretch</backgroundImgMode>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>10</height>
      <heightRatio>0.133333333333333</heightRatio>
      <left>92</left>
      <leftRatio>0.209745762711864</leftRatio>
      <sizeRatio>0.119047619047619</sizeRatio>
      <top>32</top>
      <topRatio>0.426666666666667</topRatio>
      <width>78</width>
      <widthRatio>0.177966101694915</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp4/temp20">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>35</height>
      <heightRatio>0.466666666666667</heightRatio>
      <left>175</left>
      <leftRatio>0.39667458432304</leftRatio>
      <sizeRatio>0.466666666666667</sizeRatio>
      <top>20</top>
      <topRatio>0.266666666666667</topRatio>
      <width>78</width>
      <widthRatio>0.178147268408551</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp4/temp21">
      <backgroundColor>808000</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>74</height>
      <heightRatio>1</heightRatio>
      <left>268</left>
      <leftRatio>0.608076009501188</leftRatio>
      <sizeRatio>0.9375</sizeRatio>
      <top>0</top>
      <width>84</width>
      <widthRatio>0.190023752969121</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp4/temp21/temp29">
      <backgroundColor>FFE0C0</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>30</height>
      <heightRatio>0.4</heightRatio>
      <left>0</left>
      <sizeRatio>0.333333333333333</sizeRatio>
      <top>2</top>
      <topRatio>0.0266666666666667</topRatio>
      <vAlign>bottom</vAlign>
      <width>84</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp4/temp21/temp30">
      <backgroundColor>C0FFFF</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>30</height>
      <heightRatio>0.4</heightRatio>
      <left>0</left>
      <sizeRatio>0.333333333333333</sizeRatio>
      <top>33</top>
      <topRatio>0.44</topRatio>
      <vAlign>top</vAlign>
      <width>84</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp4/temp38">
      <backgroundColor>FF8080</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>33</height>
      <heightRatio>0.445945945945946</heightRatio>
      <left>362</left>
      <leftRatio>0.822546972860125</leftRatio>
      <onClick><![CDATA[if(ee.getText(this) == "预定"){
    //判断时间是否过期
    var start_time = ee.getText(this.parentNode.eeChildren[0]);
    console.log(start_time);
    var str_time = g5.date_now + " " + start_time;
    var start_timestamp = Date.parse(new Date(str_time))/1000;  
    var now_timestamp = Date.parse(new Date(str_time))/1000;  

    if (start_timestamp < now_timestamp ){
        alert("该时段票已过期，请重新选择");
        query();
        return;
    }

    //获取id，查出数量并判断
    var index = (this.parentNode).rowIndex;   
    var id = ee.getText(ee.getControl("tablebody1").cols[1].rows[index]); 
    var str_use_in_saveToShoplist =  ee.getText(ee.getControl("tablebody1").cols[2].rows[index]);  
    if (id != ""){ 
        g5.checkNum_id = id;  
        g5.save_str = str_use_in_saveToShoplist;
        checkNum();
    }else {
        alert("id is null");
        return;
    }
}else {
    return;
}]]></onClick>
      <sizeRatio>0.4125</sizeRatio>
      <top>20</top>
      <topRatio>0.27027027027027</topRatio>
      <width>73</width>
      <widthRatio>0.167014613778706</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp5">
      <backgroundColor>d0d0d0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>74</height>
      <heightRatio>0.10054347826087</heightRatio>
      <left>440</left>
      <leftRatio>1</leftRatio>
      <sizeRatio>正无穷大</sizeRatio>
      <top>147</top>
      <width>0</width>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp6">
      <backgroundColor>f0f0f0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>74</height>
      <heightRatio>0.10054347826087</heightRatio>
      <left>440</left>
      <leftRatio>1</leftRatio>
      <sizeRatio>正无穷大</sizeRatio>
      <top>147</top>
      <width>0</width>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp7">
      <backgroundColor>FFFFFF</backgroundColor>
      <height>73</height>
      <heightRatio>0.10054347826087</heightRatio>
      <left>0</left>
      <sizeRatio>0.155136268343816</sizeRatio>
      <top>221</top>
      <width>440</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp7/temp13">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontSizeAuto>24</fontSizeAuto>
      <height>35</height>
      <heightRatio>0.466666666666667</heightRatio>
      <left>10</left>
      <leftRatio>0.0233050847457627</leftRatio>
      <sizeRatio>0.416666666666667</sizeRatio>
      <top>20</top>
      <topRatio>0.266666666666667</topRatio>
      <width>78</width>
      <widthRatio>0.177966101694915</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp7/temp14">
      <backgroundImgMode>stretch</backgroundImgMode>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>10</height>
      <heightRatio>0.133333333333333</heightRatio>
      <left>92</left>
      <leftRatio>0.209745762711864</leftRatio>
      <sizeRatio>0.119047619047619</sizeRatio>
      <top>32</top>
      <topRatio>0.426666666666667</topRatio>
      <width>78</width>
      <widthRatio>0.177966101694915</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp7/temp15">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>35</height>
      <heightRatio>0.466666666666667</heightRatio>
      <left>175</left>
      <leftRatio>0.39667458432304</leftRatio>
      <sizeRatio>0.466666666666667</sizeRatio>
      <top>20</top>
      <topRatio>0.266666666666667</topRatio>
      <width>78</width>
      <widthRatio>0.178147268408551</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp7/temp16">
      <backgroundColor>808000</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>74</height>
      <heightRatio>1</heightRatio>
      <left>268</left>
      <leftRatio>0.608076009501188</leftRatio>
      <sizeRatio>0.9375</sizeRatio>
      <top>0</top>
      <width>84</width>
      <widthRatio>0.190023752969121</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp7/temp16/temp22">
      <backgroundColor>FFE0C0</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>30</height>
      <heightRatio>0.4</heightRatio>
      <left>0</left>
      <sizeRatio>0.333333333333333</sizeRatio>
      <top>2</top>
      <topRatio>0.0266666666666667</topRatio>
      <vAlign>bottom</vAlign>
      <width>84</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp7/temp16/temp23">
      <backgroundColor>C0FFFF</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>30</height>
      <heightRatio>0.4</heightRatio>
      <left>0</left>
      <sizeRatio>0.333333333333333</sizeRatio>
      <top>33</top>
      <topRatio>0.44</topRatio>
      <vAlign>top</vAlign>
      <width>84</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp7/temp24">
      <backgroundColor>FF8080</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>33</height>
      <heightRatio>0.445945945945946</heightRatio>
      <left>362</left>
      <leftRatio>0.822546972860125</leftRatio>
      <onClick><![CDATA[if(ee.getText(this) == "预定"){
    //判断时间是否过期
    var start_time = ee.getText(this.parentNode.eeChildren[0]);
    console.log(start_time);
    var str_time = g5.date_now + " " + start_time;
    var start_timestamp = Date.parse(new Date(str_time))/1000;  
    var now_timestamp = Date.parse(new Date(str_time))/1000;  

    if (start_timestamp < now_timestamp ){
        alert("该时段票已过期，请重新选择");
        query();
        return;
    }

    //获取id，查出数量并判断
    var index = (this.parentNode).rowIndex;   
    var id = ee.getText(ee.getControl("tablebody1").cols[1].rows[index]); 
    var str_use_in_saveToShoplist =  ee.getText(ee.getControl("tablebody1").cols[2].rows[index]);  
    if (id != ""){ 
        g5.checkNum_id = id;  
        g5.save_str = str_use_in_saveToShoplist;
        checkNum();
    }else {
        alert("id is null");
        return;
    }
}else {
    return;
}]]></onClick>
      <sizeRatio>0.4125</sizeRatio>
      <top>20</top>
      <topRatio>0.27027027027027</topRatio>
      <width>73</width>
      <widthRatio>0.167014613778706</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp8">
      <backgroundColor>d0d0d0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>73</height>
      <heightRatio>0.10054347826087</heightRatio>
      <left>440</left>
      <leftRatio>1</leftRatio>
      <sizeRatio>正无穷大</sizeRatio>
      <top>221</top>
      <width>0</width>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp9">
      <backgroundColor>f0f0f0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>73</height>
      <heightRatio>0.10054347826087</heightRatio>
      <left>440</left>
      <leftRatio>1</leftRatio>
      <sizeRatio>正无穷大</sizeRatio>
      <top>221</top>
      <width>0</width>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp42">
      <backgroundColor>FFFFFF</backgroundColor>
      <height>74</height>
      <heightRatio>0.10054347826087</heightRatio>
      <left>0</left>
      <sizeRatio>0.155136268343816</sizeRatio>
      <top>294</top>
      <width>440</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp42/temp17">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontSizeAuto>24</fontSizeAuto>
      <height>35</height>
      <heightRatio>0.466666666666667</heightRatio>
      <left>10</left>
      <leftRatio>0.0233050847457627</leftRatio>
      <sizeRatio>0.416666666666667</sizeRatio>
      <top>20</top>
      <topRatio>0.266666666666667</topRatio>
      <width>78</width>
      <widthRatio>0.177966101694915</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp42/temp18">
      <backgroundImgMode>stretch</backgroundImgMode>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>10</height>
      <heightRatio>0.133333333333333</heightRatio>
      <left>92</left>
      <leftRatio>0.209745762711864</leftRatio>
      <sizeRatio>0.119047619047619</sizeRatio>
      <top>32</top>
      <topRatio>0.426666666666667</topRatio>
      <width>78</width>
      <widthRatio>0.177966101694915</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp42/temp25">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>35</height>
      <heightRatio>0.466666666666667</heightRatio>
      <left>175</left>
      <leftRatio>0.39667458432304</leftRatio>
      <sizeRatio>0.466666666666667</sizeRatio>
      <top>20</top>
      <topRatio>0.266666666666667</topRatio>
      <width>78</width>
      <widthRatio>0.178147268408551</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp42/temp26">
      <backgroundColor>808000</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>74</height>
      <heightRatio>1</heightRatio>
      <left>268</left>
      <leftRatio>0.608076009501188</leftRatio>
      <sizeRatio>0.9375</sizeRatio>
      <top>0</top>
      <width>84</width>
      <widthRatio>0.190023752969121</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp42/temp26/temp27">
      <backgroundColor>FFE0C0</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>30</height>
      <heightRatio>0.4</heightRatio>
      <left>0</left>
      <sizeRatio>0.333333333333333</sizeRatio>
      <top>2</top>
      <topRatio>0.0266666666666667</topRatio>
      <vAlign>bottom</vAlign>
      <width>84</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp42/temp26/temp31">
      <backgroundColor>C0FFFF</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>30</height>
      <heightRatio>0.4</heightRatio>
      <left>0</left>
      <sizeRatio>0.333333333333333</sizeRatio>
      <top>33</top>
      <topRatio>0.44</topRatio>
      <vAlign>top</vAlign>
      <width>84</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp42/temp32">
      <backgroundColor>FF8080</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>33</height>
      <heightRatio>0.445945945945946</heightRatio>
      <left>362</left>
      <leftRatio>0.822546972860125</leftRatio>
      <onClick><![CDATA[if(ee.getText(this) == "预定"){
    //判断时间是否过期
    var start_time = ee.getText(this.parentNode.eeChildren[0]);
    console.log(start_time);
    var str_time = g5.date_now + " " + start_time;
    var start_timestamp = Date.parse(new Date(str_time))/1000;  
    var now_timestamp = Date.parse(new Date(str_time))/1000;  

    if (start_timestamp < now_timestamp ){
        alert("该时段票已过期，请重新选择");
        query();
        return;
    }

    //获取id，查出数量并判断
    var index = (this.parentNode).rowIndex;   
    var id = ee.getText(ee.getControl("tablebody1").cols[1].rows[index]); 
    var str_use_in_saveToShoplist =  ee.getText(ee.getControl("tablebody1").cols[2].rows[index]);  
    if (id != ""){ 
        g5.checkNum_id = id;  
        g5.save_str = str_use_in_saveToShoplist;
        checkNum();
    }else {
        alert("id is null");
        return;
    }
}else {
    return;
}]]></onClick>
      <sizeRatio>0.4125</sizeRatio>
      <top>20</top>
      <topRatio>0.27027027027027</topRatio>
      <width>73</width>
      <widthRatio>0.167014613778706</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp43">
      <backgroundColor>d0d0d0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>74</height>
      <heightRatio>0.10054347826087</heightRatio>
      <left>440</left>
      <leftRatio>1</leftRatio>
      <sizeRatio>正无穷大</sizeRatio>
      <top>294</top>
      <width>0</width>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp52">
      <backgroundColor>f0f0f0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>74</height>
      <heightRatio>0.10054347826087</heightRatio>
      <left>440</left>
      <leftRatio>1</leftRatio>
      <sizeRatio>正无穷大</sizeRatio>
      <top>294</top>
      <width>0</width>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp53">
      <backgroundColor>FFFFFF</backgroundColor>
      <height>74</height>
      <heightRatio>0.10054347826087</heightRatio>
      <left>0</left>
      <sizeRatio>0.155136268343816</sizeRatio>
      <top>368</top>
      <width>440</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp53/temp33">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontSizeAuto>24</fontSizeAuto>
      <height>35</height>
      <heightRatio>0.466666666666667</heightRatio>
      <left>10</left>
      <leftRatio>0.0233050847457627</leftRatio>
      <sizeRatio>0.416666666666667</sizeRatio>
      <top>20</top>
      <topRatio>0.266666666666667</topRatio>
      <width>78</width>
      <widthRatio>0.177966101694915</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp53/temp34">
      <backgroundImgMode>stretch</backgroundImgMode>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>10</height>
      <heightRatio>0.133333333333333</heightRatio>
      <left>92</left>
      <leftRatio>0.209745762711864</leftRatio>
      <sizeRatio>0.119047619047619</sizeRatio>
      <top>32</top>
      <topRatio>0.426666666666667</topRatio>
      <width>78</width>
      <widthRatio>0.177966101694915</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp53/temp35">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>35</height>
      <heightRatio>0.466666666666667</heightRatio>
      <left>175</left>
      <leftRatio>0.39667458432304</leftRatio>
      <sizeRatio>0.466666666666667</sizeRatio>
      <top>20</top>
      <topRatio>0.266666666666667</topRatio>
      <width>78</width>
      <widthRatio>0.178147268408551</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp53/temp36">
      <backgroundColor>808000</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>74</height>
      <heightRatio>1</heightRatio>
      <left>268</left>
      <leftRatio>0.608076009501188</leftRatio>
      <sizeRatio>0.9375</sizeRatio>
      <top>0</top>
      <width>84</width>
      <widthRatio>0.190023752969121</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp53/temp36/temp39">
      <backgroundColor>FFE0C0</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>30</height>
      <heightRatio>0.4</heightRatio>
      <left>0</left>
      <sizeRatio>0.333333333333333</sizeRatio>
      <top>2</top>
      <topRatio>0.0266666666666667</topRatio>
      <vAlign>bottom</vAlign>
      <width>84</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp53/temp36/temp40">
      <backgroundColor>C0FFFF</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>30</height>
      <heightRatio>0.4</heightRatio>
      <left>0</left>
      <sizeRatio>0.333333333333333</sizeRatio>
      <top>33</top>
      <topRatio>0.44</topRatio>
      <vAlign>top</vAlign>
      <width>84</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp53/temp41">
      <backgroundColor>FF8080</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>33</height>
      <heightRatio>0.445945945945946</heightRatio>
      <left>362</left>
      <leftRatio>0.822546972860125</leftRatio>
      <onClick><![CDATA[if(ee.getText(this) == "预定"){
    //判断时间是否过期
    var start_time = ee.getText(this.parentNode.eeChildren[0]);
    console.log(start_time);
    var str_time = g5.date_now + " " + start_time;
    var start_timestamp = Date.parse(new Date(str_time))/1000;  
    var now_timestamp = Date.parse(new Date(str_time))/1000;  

    if (start_timestamp < now_timestamp ){
        alert("该时段票已过期，请重新选择");
        query();
        return;
    }

    //获取id，查出数量并判断
    var index = (this.parentNode).rowIndex;   
    var id = ee.getText(ee.getControl("tablebody1").cols[1].rows[index]); 
    var str_use_in_saveToShoplist =  ee.getText(ee.getControl("tablebody1").cols[2].rows[index]);  
    if (id != ""){ 
        g5.checkNum_id = id;  
        g5.save_str = str_use_in_saveToShoplist;
        checkNum();
    }else {
        alert("id is null");
        return;
    }
}else {
    return;
}]]></onClick>
      <sizeRatio>0.4125</sizeRatio>
      <top>20</top>
      <topRatio>0.27027027027027</topRatio>
      <width>73</width>
      <widthRatio>0.167014613778706</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp62">
      <backgroundColor>d0d0d0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>74</height>
      <heightRatio>0.10054347826087</heightRatio>
      <left>440</left>
      <leftRatio>1</leftRatio>
      <sizeRatio>正无穷大</sizeRatio>
      <top>368</top>
      <width>0</width>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp63">
      <backgroundColor>f0f0f0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>74</height>
      <heightRatio>0.10054347826087</heightRatio>
      <left>440</left>
      <leftRatio>1</leftRatio>
      <sizeRatio>正无穷大</sizeRatio>
      <top>368</top>
      <width>0</width>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp72">
      <backgroundColor>FFFFFF</backgroundColor>
      <height>73</height>
      <heightRatio>0.10054347826087</heightRatio>
      <left>0</left>
      <sizeRatio>0.155136268343816</sizeRatio>
      <top>442</top>
      <width>440</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp72/temp44">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontSizeAuto>24</fontSizeAuto>
      <height>35</height>
      <heightRatio>0.466666666666667</heightRatio>
      <left>10</left>
      <leftRatio>0.0233050847457627</leftRatio>
      <sizeRatio>0.416666666666667</sizeRatio>
      <top>20</top>
      <topRatio>0.266666666666667</topRatio>
      <width>78</width>
      <widthRatio>0.177966101694915</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp72/temp45">
      <backgroundImgMode>stretch</backgroundImgMode>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>10</height>
      <heightRatio>0.133333333333333</heightRatio>
      <left>92</left>
      <leftRatio>0.209745762711864</leftRatio>
      <sizeRatio>0.119047619047619</sizeRatio>
      <top>32</top>
      <topRatio>0.426666666666667</topRatio>
      <width>78</width>
      <widthRatio>0.177966101694915</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp72/temp47">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>35</height>
      <heightRatio>0.466666666666667</heightRatio>
      <left>175</left>
      <leftRatio>0.39667458432304</leftRatio>
      <sizeRatio>0.466666666666667</sizeRatio>
      <top>20</top>
      <topRatio>0.266666666666667</topRatio>
      <width>78</width>
      <widthRatio>0.178147268408551</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp72/temp48">
      <backgroundColor>808000</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>74</height>
      <heightRatio>1</heightRatio>
      <left>268</left>
      <leftRatio>0.608076009501188</leftRatio>
      <sizeRatio>0.9375</sizeRatio>
      <top>0</top>
      <width>84</width>
      <widthRatio>0.190023752969121</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp72/temp48/temp49">
      <backgroundColor>FFE0C0</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>30</height>
      <heightRatio>0.4</heightRatio>
      <left>0</left>
      <sizeRatio>0.333333333333333</sizeRatio>
      <top>2</top>
      <topRatio>0.0266666666666667</topRatio>
      <vAlign>bottom</vAlign>
      <width>84</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp72/temp48/temp50">
      <backgroundColor>C0FFFF</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>30</height>
      <heightRatio>0.4</heightRatio>
      <left>0</left>
      <sizeRatio>0.333333333333333</sizeRatio>
      <top>33</top>
      <topRatio>0.44</topRatio>
      <vAlign>top</vAlign>
      <width>84</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp72/temp51">
      <backgroundColor>FF8080</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>33</height>
      <heightRatio>0.445945945945946</heightRatio>
      <left>362</left>
      <leftRatio>0.822546972860125</leftRatio>
      <onClick><![CDATA[if(ee.getText(this) == "预定"){
    //判断时间是否过期
    var start_time = ee.getText(this.parentNode.eeChildren[0]);
    console.log(start_time);
    var str_time = g5.date_now + " " + start_time;
    var start_timestamp = Date.parse(new Date(str_time))/1000;  
    var now_timestamp = Date.parse(new Date(str_time))/1000;  

    if (start_timestamp < now_timestamp ){
        alert("该时段票已过期，请重新选择");
        query();
        return;
    }

    //获取id，查出数量并判断
    var index = (this.parentNode).rowIndex;   
    var id = ee.getText(ee.getControl("tablebody1").cols[1].rows[index]); 
    var str_use_in_saveToShoplist =  ee.getText(ee.getControl("tablebody1").cols[2].rows[index]);  
    if (id != ""){ 
        g5.checkNum_id = id;  
        g5.save_str = str_use_in_saveToShoplist;
        checkNum();
    }else {
        alert("id is null");
        return;
    }
}else {
    return;
}]]></onClick>
      <sizeRatio>0.4125</sizeRatio>
      <top>20</top>
      <topRatio>0.27027027027027</topRatio>
      <width>73</width>
      <widthRatio>0.167014613778706</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp73">
      <backgroundColor>d0d0d0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>73</height>
      <heightRatio>0.10054347826087</heightRatio>
      <left>440</left>
      <leftRatio>1</leftRatio>
      <sizeRatio>正无穷大</sizeRatio>
      <top>442</top>
      <width>0</width>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp81">
      <backgroundColor>f0f0f0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>73</height>
      <heightRatio>0.10054347826087</heightRatio>
      <left>440</left>
      <leftRatio>1</leftRatio>
      <sizeRatio>正无穷大</sizeRatio>
      <top>442</top>
      <width>0</width>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp54">
      <backgroundColor>FFFFFF</backgroundColor>
      <height>74</height>
      <heightRatio>0.10054347826087</heightRatio>
      <left>0</left>
      <sizeRatio>0.155136268343816</sizeRatio>
      <top>515</top>
      <width>440</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp54/temp56">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontSizeAuto>24</fontSizeAuto>
      <height>35</height>
      <heightRatio>0.466666666666667</heightRatio>
      <left>10</left>
      <leftRatio>0.0233050847457627</leftRatio>
      <sizeRatio>0.416666666666667</sizeRatio>
      <top>20</top>
      <topRatio>0.266666666666667</topRatio>
      <width>78</width>
      <widthRatio>0.177966101694915</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp54/temp57">
      <backgroundImgMode>stretch</backgroundImgMode>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>10</height>
      <heightRatio>0.133333333333333</heightRatio>
      <left>92</left>
      <leftRatio>0.209745762711864</leftRatio>
      <sizeRatio>0.119047619047619</sizeRatio>
      <top>32</top>
      <topRatio>0.426666666666667</topRatio>
      <width>78</width>
      <widthRatio>0.177966101694915</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp54/temp58">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>35</height>
      <heightRatio>0.466666666666667</heightRatio>
      <left>175</left>
      <leftRatio>0.39667458432304</leftRatio>
      <sizeRatio>0.466666666666667</sizeRatio>
      <top>20</top>
      <topRatio>0.266666666666667</topRatio>
      <width>78</width>
      <widthRatio>0.178147268408551</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp54/temp59">
      <backgroundColor>808000</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>74</height>
      <heightRatio>1</heightRatio>
      <left>268</left>
      <leftRatio>0.608076009501188</leftRatio>
      <sizeRatio>0.9375</sizeRatio>
      <top>0</top>
      <width>84</width>
      <widthRatio>0.190023752969121</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp54/temp59/temp60">
      <backgroundColor>FFE0C0</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>30</height>
      <heightRatio>0.4</heightRatio>
      <left>0</left>
      <sizeRatio>0.333333333333333</sizeRatio>
      <top>2</top>
      <topRatio>0.0266666666666667</topRatio>
      <vAlign>bottom</vAlign>
      <width>84</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp54/temp59/temp61">
      <backgroundColor>C0FFFF</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>30</height>
      <heightRatio>0.4</heightRatio>
      <left>0</left>
      <sizeRatio>0.333333333333333</sizeRatio>
      <top>33</top>
      <topRatio>0.44</topRatio>
      <vAlign>top</vAlign>
      <width>84</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp54/temp65">
      <backgroundColor>FF8080</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>33</height>
      <heightRatio>0.445945945945946</heightRatio>
      <left>362</left>
      <leftRatio>0.822546972860125</leftRatio>
      <onClick><![CDATA[if(ee.getText(this) == "预定"){
    //判断时间是否过期
    var start_time = ee.getText(this.parentNode.eeChildren[0]);
    console.log(start_time);
    var str_time = g5.date_now + " " + start_time;
    var start_timestamp = Date.parse(new Date(str_time))/1000;  
    var now_timestamp = Date.parse(new Date(str_time))/1000;  

    if (start_timestamp < now_timestamp ){
        alert("该时段票已过期，请重新选择");
        query();
        return;
    }

    //获取id，查出数量并判断
    var index = (this.parentNode).rowIndex;   
    var id = ee.getText(ee.getControl("tablebody1").cols[1].rows[index]); 
    var str_use_in_saveToShoplist =  ee.getText(ee.getControl("tablebody1").cols[2].rows[index]);  
    if (id != ""){ 
        g5.checkNum_id = id;  
        g5.save_str = str_use_in_saveToShoplist;
        checkNum();
    }else {
        alert("id is null");
        return;
    }
}else {
    return;
}]]></onClick>
      <sizeRatio>0.4125</sizeRatio>
      <top>20</top>
      <topRatio>0.27027027027027</topRatio>
      <width>73</width>
      <widthRatio>0.167014613778706</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp66">
      <backgroundColor>d0d0d0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>74</height>
      <heightRatio>0.10054347826087</heightRatio>
      <left>440</left>
      <leftRatio>1</leftRatio>
      <sizeRatio>正无穷大</sizeRatio>
      <top>515</top>
      <width>0</width>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp67">
      <backgroundColor>f0f0f0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>74</height>
      <heightRatio>0.10054347826087</heightRatio>
      <left>440</left>
      <leftRatio>1</leftRatio>
      <sizeRatio>正无穷大</sizeRatio>
      <top>515</top>
      <width>0</width>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp68">
      <backgroundColor>FFFFFF</backgroundColor>
      <height>73</height>
      <heightRatio>0.10054347826087</heightRatio>
      <left>0</left>
      <sizeRatio>0.155136268343816</sizeRatio>
      <top>589</top>
      <width>440</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp68/temp69">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontSizeAuto>24</fontSizeAuto>
      <height>35</height>
      <heightRatio>0.466666666666667</heightRatio>
      <left>10</left>
      <leftRatio>0.0233050847457627</leftRatio>
      <sizeRatio>0.416666666666667</sizeRatio>
      <top>20</top>
      <topRatio>0.266666666666667</topRatio>
      <width>78</width>
      <widthRatio>0.177966101694915</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp68/temp70">
      <backgroundImgMode>stretch</backgroundImgMode>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>10</height>
      <heightRatio>0.133333333333333</heightRatio>
      <left>92</left>
      <leftRatio>0.209745762711864</leftRatio>
      <sizeRatio>0.119047619047619</sizeRatio>
      <top>32</top>
      <topRatio>0.426666666666667</topRatio>
      <width>78</width>
      <widthRatio>0.177966101694915</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp68/temp71">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>35</height>
      <heightRatio>0.466666666666667</heightRatio>
      <left>175</left>
      <leftRatio>0.39667458432304</leftRatio>
      <sizeRatio>0.466666666666667</sizeRatio>
      <top>20</top>
      <topRatio>0.266666666666667</topRatio>
      <width>78</width>
      <widthRatio>0.178147268408551</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp68/temp74">
      <backgroundColor>808000</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>74</height>
      <heightRatio>1</heightRatio>
      <left>268</left>
      <leftRatio>0.608076009501188</leftRatio>
      <sizeRatio>0.9375</sizeRatio>
      <top>0</top>
      <width>84</width>
      <widthRatio>0.190023752969121</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp68/temp74/temp75">
      <backgroundColor>FFE0C0</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>30</height>
      <heightRatio>0.4</heightRatio>
      <left>0</left>
      <sizeRatio>0.333333333333333</sizeRatio>
      <top>2</top>
      <topRatio>0.0266666666666667</topRatio>
      <vAlign>bottom</vAlign>
      <width>84</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp68/temp74/temp76">
      <backgroundColor>C0FFFF</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>30</height>
      <heightRatio>0.4</heightRatio>
      <left>0</left>
      <sizeRatio>0.333333333333333</sizeRatio>
      <top>33</top>
      <topRatio>0.44</topRatio>
      <vAlign>top</vAlign>
      <width>84</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp68/temp77">
      <backgroundColor>FF8080</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>33</height>
      <heightRatio>0.445945945945946</heightRatio>
      <left>362</left>
      <leftRatio>0.822546972860125</leftRatio>
      <onClick><![CDATA[if(ee.getText(this) == "预定"){
    //判断时间是否过期
    var start_time = ee.getText(this.parentNode.eeChildren[0]);
    console.log(start_time);
    var str_time = g5.date_now + " " + start_time;
    var start_timestamp = Date.parse(new Date(str_time))/1000;  
    var now_timestamp = Date.parse(new Date(str_time))/1000;  

    if (start_timestamp < now_timestamp ){
        alert("该时段票已过期，请重新选择");
        query();
        return;
    }

    //获取id，查出数量并判断
    var index = (this.parentNode).rowIndex;   
    var id = ee.getText(ee.getControl("tablebody1").cols[1].rows[index]); 
    var str_use_in_saveToShoplist =  ee.getText(ee.getControl("tablebody1").cols[2].rows[index]);  
    if (id != ""){ 
        g5.checkNum_id = id;  
        g5.save_str = str_use_in_saveToShoplist;
        checkNum();
    }else {
        alert("id is null");
        return;
    }
}else {
    return;
}]]></onClick>
      <sizeRatio>0.4125</sizeRatio>
      <top>20</top>
      <topRatio>0.27027027027027</topRatio>
      <width>73</width>
      <widthRatio>0.167014613778706</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp78">
      <backgroundColor>d0d0d0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>73</height>
      <heightRatio>0.10054347826087</heightRatio>
      <left>440</left>
      <leftRatio>1</leftRatio>
      <sizeRatio>正无穷大</sizeRatio>
      <top>589</top>
      <width>0</width>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp79">
      <backgroundColor>f0f0f0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>73</height>
      <heightRatio>0.10054347826087</heightRatio>
      <left>440</left>
      <leftRatio>1</leftRatio>
      <sizeRatio>正无穷大</sizeRatio>
      <top>589</top>
      <width>0</width>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp80">
      <backgroundColor>FFFFFF</backgroundColor>
      <height>74</height>
      <heightRatio>0.10054347826087</heightRatio>
      <left>0</left>
      <sizeRatio>0.155136268343816</sizeRatio>
      <top>662</top>
      <width>440</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp80/temp82">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontSizeAuto>24</fontSizeAuto>
      <height>35</height>
      <heightRatio>0.466666666666667</heightRatio>
      <left>10</left>
      <leftRatio>0.0233050847457627</leftRatio>
      <sizeRatio>0.416666666666667</sizeRatio>
      <top>20</top>
      <topRatio>0.266666666666667</topRatio>
      <width>78</width>
      <widthRatio>0.177966101694915</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp80/temp83">
      <backgroundImgMode>stretch</backgroundImgMode>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>10</height>
      <heightRatio>0.133333333333333</heightRatio>
      <left>92</left>
      <leftRatio>0.209745762711864</leftRatio>
      <sizeRatio>0.119047619047619</sizeRatio>
      <top>32</top>
      <topRatio>0.426666666666667</topRatio>
      <width>78</width>
      <widthRatio>0.177966101694915</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp80/temp84">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>35</height>
      <heightRatio>0.466666666666667</heightRatio>
      <left>175</left>
      <leftRatio>0.39667458432304</leftRatio>
      <sizeRatio>0.466666666666667</sizeRatio>
      <top>20</top>
      <topRatio>0.266666666666667</topRatio>
      <width>78</width>
      <widthRatio>0.178147268408551</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp80/temp85">
      <backgroundColor>808000</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>74</height>
      <heightRatio>1</heightRatio>
      <left>268</left>
      <leftRatio>0.608076009501188</leftRatio>
      <sizeRatio>0.9375</sizeRatio>
      <top>0</top>
      <width>84</width>
      <widthRatio>0.190023752969121</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp80/temp85/temp86">
      <backgroundColor>FFE0C0</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>30</height>
      <heightRatio>0.4</heightRatio>
      <left>0</left>
      <sizeRatio>0.333333333333333</sizeRatio>
      <top>2</top>
      <topRatio>0.0266666666666667</topRatio>
      <vAlign>bottom</vAlign>
      <width>84</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp80/temp85/temp87">
      <backgroundColor>C0FFFF</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>30</height>
      <heightRatio>0.4</heightRatio>
      <left>0</left>
      <sizeRatio>0.333333333333333</sizeRatio>
      <top>33</top>
      <topRatio>0.44</topRatio>
      <vAlign>top</vAlign>
      <width>84</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp80/temp88">
      <backgroundColor>FF8080</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>33</height>
      <heightRatio>0.445945945945946</heightRatio>
      <left>362</left>
      <leftRatio>0.822546972860125</leftRatio>
      <onClick><![CDATA[if(ee.getText(this) == "预定"){
    //判断时间是否过期
    var start_time = ee.getText(this.parentNode.eeChildren[0]);
    console.log(start_time);
    var str_time = g5.date_now + " " + start_time;
    var start_timestamp = Date.parse(new Date(str_time))/1000;  
    var now_timestamp = Date.parse(new Date(str_time))/1000;  

    if (start_timestamp < now_timestamp ){
        alert("该时段票已过期，请重新选择");
        query();
        return;
    }

    //获取id，查出数量并判断
    var index = (this.parentNode).rowIndex;   
    var id = ee.getText(ee.getControl("tablebody1").cols[1].rows[index]); 
    var str_use_in_saveToShoplist =  ee.getText(ee.getControl("tablebody1").cols[2].rows[index]);  
    if (id != ""){ 
        g5.checkNum_id = id;  
        g5.save_str = str_use_in_saveToShoplist;
        checkNum();
    }else {
        alert("id is null");
        return;
    }
}else {
    return;
}]]></onClick>
      <sizeRatio>0.4125</sizeRatio>
      <top>20</top>
      <topRatio>0.27027027027027</topRatio>
      <width>73</width>
      <widthRatio>0.167014613778706</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp89">
      <backgroundColor>d0d0d0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>74</height>
      <heightRatio>0.10054347826087</heightRatio>
      <left>440</left>
      <leftRatio>1</leftRatio>
      <sizeRatio>正无穷大</sizeRatio>
      <top>662</top>
      <width>0</width>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel9/tablebody1/temp90">
      <backgroundColor>f0f0f0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>74</height>
      <heightRatio>0.10054347826087</heightRatio>
      <left>440</left>
      <leftRatio>1</leftRatio>
      <sizeRatio>正无穷大</sizeRatio>
      <top>662</top>
      <width>0</width>
    </control>
  </controls>
  <taskSet count="3">
    <taskSetItem name="query">
      <script1>var id = "13"; //小路模拟 在ujia_simulation 中的id
var token = "demo"; 
g5.token = token;  
g5.id = id;


eio.appendString8(id);
eio.appendString8(token);    

//获取当前时间的年月日   
var newDate = new Date();   
console.log("newDate="+newDate);
var year = newDate.getFullYear();
var month = newDate.getMonth() + 1;
var date = newDate.getDate(); 
var yyd = year + "/" + month +"/" + date;  //这里的间隔符必须是“/”,即如2017/04/11的形式，否则ios5版本以上的系统将不能根据这个时间获取对应的时间戳
var timestamp =   Math.round(new Date(yyd).getTime()/1000)+"";

eio.appendString8(timestamp);  //当天零点的时间戳 
console.log("tt::"+timestamp);


    


/*
// 获取当前时间戳(以s为单位)
var timestamp = Date.parse(new Date());
timestamp = timestamp / 1000;
//当前时间戳为：1403149534
console.log("当前时间戳为：" + timestamp);   

var timestamp =   Math.round(new Date().getTime()/1000);  

// 获取某个时间格式的时间戳
var stringTime = "2014-07-10 10:21:12";
var timestamp2 = Date.parse(new Date(stringTime));
timestamp2 = timestamp2 / 1000;
//2014-07-10 10:21:12的时间戳为：1404958872 
console.log(stringTime + "的时间戳为：" + timestamp2);

// 将当前时间换成时间格式字符串
var timestamp3 = 1403058804;
var newDate = new Date();
newDate.setTime(timestamp3 * 1000);
// Wed Jun 18 2014 
console.log(newDate.toDateString());
// Wed, 18 Jun 2014 02:33:24 GMT 
console.log(newDate.toGMTString());
// 2014-06-18T02:33:24.000Z
console.log(newDate.toISOString());
// 2014-06-18T02:33:24.000Z 
console.log(newDate.toJSON());
// 2014年6月18日 
console.log(newDate.toLocaleDateString());
// 2014年6月18日 上午10:33:24 
console.log(newDate.toLocaleString());
// 上午10:33:24 
console.log(newDate.toLocaleTimeString());
// Wed Jun 18 2014 10:33:24 GMT+0800 (中国标准时间)
console.log(newDate.toString());
// 10:33:24 GMT+0800 (中国标准时间) 
console.log(newDate.toTimeString());
// Wed, 18 Jun 2014 02:33:24 GMT
console.log(newDate.toUTCString());

Date.prototype.format = function(format) {
       var date = {
              "M+": this.getMonth() + 1,
              "d+": this.getDate(),
              "h+": this.getHours(),
              "m+": this.getMinutes(),
              "s+": this.getSeconds(),
              "q+": Math.floor((this.getMonth() + 3) / 3),
              "S+": this.getMilliseconds()
       };
       if (/(y+)/i.test(format)) {
              format = format.replace(RegExp.$1, (this.getFullYear() + '').substr(4 - RegExp.$1.length));
       }
       for (var k in date) {
              if (new RegExp("(" + k + ")").test(format)) {
                     format = format.replace(RegExp.$1, RegExp.$1.length == 1
                            ? date[k] : ("00" + date[k]).substr(("" + date[k]).length));
              }
       }
       return format;
}
console.log(newDate.format('yyyy-MM-dd h:m:s'));

     */</script1>
      <script2>var id = eio.readString8();
var token = eio.readString8();
var timestamp = eio.readString8(); 

es.logWarning("id ="+id);
es.logWarning("timeStamp"+timestamp);

var sql, sqlResult;    

 /*
//读取表   //这是sqlserver中的查询语句书写方式
sql = "select ISNULL(cast(start_time as varchar),'')+'`'+ISNULL(cast(end_time as varchar),'')+'`'+"+
      "ISNULL(cast(price as varchar),'')+'`'+ISNULL(cast(num as varchar),'')+'`'"+
      "+ISNULL(cast(id as varchar),'') as data from ujia_simulation_path "+
      "where validtime='"+ db.encode(timestamp)+"' and sid = '"+ db.encode(id)+"' order by start_time AESC"; 
      */ 

//读取表 mysql中的查询语句书写方式 
sql = "select concat_ws('`',id,start_time,end_time,price,num,sell_time,sale_status) as data ,id,"+
      "concat_ws('`',price,validtime,start_time,end_time) as save_str "+
      " from ujia_simulation_path where validtime='"+ db.encode(timestamp)+"' and sid = '"+ db.encode(id)+"' order by start_time ASC"; 

//es.logWarning(sql);
    
sqlResult = db.executeQuery("UJ", sql); 
//db.read(sqlResult);
eio.appendString8("T");                  
eio.appendDataSet(sqlResult, "data,id,save_str", 0, 1000);     
 




</script2>
      <script3>
var code = eio.readString8();
if (code != "T"){
    alert("数据库执行出错！");
    return;
}          

g5.dataset = eio.readDataSet();     
// 获取当前时间戳
var timestamp = Date.parse(new Date());
g5.timestamp_now = timestamp / 1000;  
// 获取当前日期   
var newDate = new Date();
newDate.setTime(timestamp);   
var date_now = newDate.toLocaleDateString();
//console.log(date_now); 
g5.date_now = date_now.substr(0,10);
//console.log(g5.date_now);

ee.setTableData(ee.getControl("tablebody1"), g5.dataset, 0);   
   
var rowCount = (g5.dataset).rowCount;
if (rowCount == 0){
    ee.setVisible(ee.getControl("panel4"),true); //order_no 层      
}else {
    ee.setVisible(ee.getControl("panel4"),false); //order_no 层 
}</script3>
    </taskSetItem>
    <taskSetItem name="checkNum">
      <script1>eio.appendString8(g5.checkNum_id);</script1>
      <script2>var id = eio.readString8();
var sql,sqlResult;
sql = "select num from ujia_simulation_path where id = '"+ id +"'";
sqlResult = db.executeQuery("UJ",sql);
db.read(sqlResult);
var num = db.getString(sqlResult,"num");
eio.appendString8("T");
eio.appendString8(num);</script2>
      <script3><![CDATA[var c = eio.readString8();
if (c != "T"){
    alert("系统繁忙，请稍候再试");
    return;
}                           

var num = eio.readString8();
if (num > 0){
    //window.location.href = ee.pageRoot + "/simulation/road"; 
    saveToShoplist();   
    
    
}else {
    alert("该类票已售罄，请重新选择！");
    return;
}]]></script3>
    </taskSetItem>
    <taskSetItem name="saveToShoplist">
      <script1>//存入 shoplist表，成功后跳转页面   

var uid = 1;
var mid = 1;
var pid = 13; 
var name = "小路模拟";
var ptype = 2;  
//以上等待动态获取  
var goods_id = g5.checkNum_id; //从按钮的点击事件获取

var str = (g5.save_str).split("`");               
var price = str[0];   
var date =  str[1];
var start_time = str[2]
var end_time = str[3]
var type = 1;

console.log("goods_id="+goods_id); 
console.log(str); 

eio.appendInt32(uid);
eio.appendInt32(mid);  
eio.appendInt32(pid);   
eio.appendString8(name)
eio.appendInt32(ptype);
eio.appendInt32(goods_id);
eio.appendInt32(type); 
eio.appendString8(price); 
eio.appendString8(date);
eio.appendString8(start_time);
eio.appendString8(end_time);



</script1>
      <script2>var uid = eio.readInt32();
var mid = eio.readInt32();
var pid = eio.readInt32();  
var name = eio.readString8();
var ptype = eio.readInt32();
var goods_id =eio.readInt32();
var type = eio.readInt32();  
var price = eio.readString8();  
var date = eio.readString8();
var start_time = eio.readString8();
var end_time = eio.readString8(); 

var tt = Date.parse(new Date())/1000;

var sql,sqlResult;
sql = "insert into ujia_shoplist(uid,mid,pid,item,goods_id,date,price,start_time,end_time,type,project_name,create_time,update_time) "+
      " values('"+uid+"','"+mid+"','"+pid+"','"+ptype+"','"+goods_id+"',"+
      "'"+date+"','"+price+"','"+start_time+"','"+end_time+"','"+type+"','"+name+"','"+tt+"','"+tt+"'"+
      ")";
//es.logWarning(sql);
sqlResult = db.executeNoneQuery("UJ",sql);   

sql = "select  *  from  ujia_shoplist order by id desc LIMIT 1";
sqlResult = db.executeQuery("UJ",sql);
db.read(sqlResult);

var get_insert_id = db.getString(sqlResult,"id");

eio.appendString8("T");                          
eio.appendString8(get_insert_id);


</script2>
      <script3>var c = eio.readString8();
if (c != "T"){
    alert("saveToShoplist error");
    return;
}          
console.log("save success");        
var insert_id = eio.readString8();    
var red_url = "&amp;red_url=/simulation/path#id="+g5.id+"#token="+g5.token;
if (insert_id != ""){
    window.location.href = ee.pageRoot + "/shoplist&amp;id="+insert_id+"&amp;token="+g5.token+ red_url;  //因为ee.pageRoot中已经包含了 “？”，所以id前面不能用用“？”连接
    //window.location.href = ee.pageRoot + "/shoplist";
}else {
    console.log("insert_id is null, save error"); 
    return;
}
</script3>
    </taskSetItem>
  </taskSet>
  <gridLines count="0" />
</page>