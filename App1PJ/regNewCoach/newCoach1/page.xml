<page>
  <controls count="21">
    <control type="DivRoot" pathname="/divRoot">
      <left>0</left>
      <top>0</top>
      <width>775</width>
      <height>819</height>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <backgroundColor>ffffff</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <onControlLoad>var isIOS = !!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);
if (!isIOS) {
    ee.getControl("layoutyitem1").heavy = 0;
}
setTimeout(function(){
    ee.autoResize = false;
},1000);
</onControlLoad>
      <pageHead><![CDATA[<meta name="viewport" content="width=device-width, minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
]]></pageHead>
    </control>
    <control type="DivRoot" pathname="/divRoot/divroot1">
      <left>0</left>
      <top>0</top>
      <width>775</width>
      <height>819</height>
      <widthRatio>1</widthRatio>
      <heightRatio>1</heightRatio>
      <sizeRatio>0.665312753858652</sizeRatio>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <backgroundColor>F3F3F3</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <onControlLoad>var isIOS = !!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);
if (!isIOS) {
    ee.getControl("layoutyitem1").heavy = 0;
}
setTimeout(function(){
    ee.autoResize = false;
},1000);
//ee.getControl("panel1").onclick=function(){ 
//alert();
    //checkSmsCode();
//}
</onControlLoad>
      <pageHead><![CDATA[<meta name="viewport" content="width=device-width, minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
]]></pageHead>
    </control>
    <control type="Panel" pathname="/divRoot/divroot1/panel3">
      <left>12</left>
      <top>192</top>
      <width>750</width>
      <height>475</height>
      <leftRatio>0.0151843817787419</leftRatio>
      <topRatio>0.234432234432234</topRatio>
      <widthRatio>0.967462039045553</widthRatio>
      <heightRatio>0.57997557997558</heightRatio>
      <sizeRatio>1.06502242152466</sizeRatio>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundSkin>body5</backgroundSkin>
    </control>
    <control type="LayoutX" pathname="/divRoot/divroot1/panel3/layoutx1">
      <left>89</left>
      <top>156</top>
      <width>592</width>
      <height>41</height>
      <leftRatio>0.118834080717489</leftRatio>
      <topRatio>0.328421052631579</topRatio>
      <widthRatio>0.789237668161435</widthRatio>
      <heightRatio>0.0863157894736842</heightRatio>
      <sizeRatio>0.116477272727273</sizeRatio>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fieldCount>2</fieldCount>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/divroot1/panel3/layoutx1/layoutxitem1">
      <left>0</left>
      <top>0</top>
      <width>153</width>
      <height>41</height>
      <widthRatio>0.259574468085106</widthRatio>
      <heightRatio>1</heightRatio>
      <sizeRatio>0.168032786885246</sizeRatio>
      <backgroundColor>f0f0f0</backgroundColor>
      <text>手机号码　</text>
      <fontSizeAuto>30</fontSizeAuto>
      <hAlign>right</hAlign>
      <heavy>70</heavy>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/divroot1/panel3/layoutx1/layoutxitem2">
      <left>153</left>
      <top>0</top>
      <width>439</width>
      <height>41</height>
      <leftRatio>0.259574468085106</leftRatio>
      <widthRatio>0.740425531914894</widthRatio>
      <heightRatio>1</heightRatio>
      <sizeRatio>0.0589080459770115</sizeRatio>
      <backgroundColor>d0d0d0</backgroundColor>
      <heavy>200</heavy>
    </control>
    <control type="Edit" pathname="/divRoot/divroot1/panel3/layoutx1/layoutxitem2/edit1">
      <left>0</left>
      <top>0</top>
      <width>439</width>
      <height>41</height>
      <widthRatio>1</widthRatio>
      <heightRatio>1</heightRatio>
      <sizeRatio>0.0589080459770115</sizeRatio>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <backgroundSkin>edit1</backgroundSkin>
      <inputFontSize>30</inputFontSize>
      <inputFontSizeAuto>30</inputFontSizeAuto>
    </control>
    <control type="Panel" pathname="/divRoot/divroot1/panel3/panel5">
      <left>242</left>
      <top>220</top>
      <width>288</width>
      <height>42</height>
      <leftRatio>0.322869955156951</leftRatio>
      <topRatio>0.463157894736842</topRatio>
      <widthRatio>0.383408071748879</widthRatio>
      <heightRatio>0.0884210526315789</heightRatio>
      <sizeRatio>0.245614035087719</sizeRatio>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <backgroundSkin>button3</backgroundSkin>
      <text>获取验证码</text>
      <fontSizeAuto>30</fontSizeAuto>
      <fontColor>FFFFFF</fontColor>
      <cursor>pointer</cursor>
      <onClick>getSmsCode();</onClick>
    </control>
    <control type="LayoutX" pathname="/divRoot/divroot1/panel3/layoutx2">
      <left>87</left>
      <top>327</top>
      <width>593</width>
      <height>41</height>
      <leftRatio>0.116182572614108</leftRatio>
      <topRatio>0.687763713080169</topRatio>
      <widthRatio>0.791147994467497</widthRatio>
      <heightRatio>0.0864978902953586</heightRatio>
      <sizeRatio>0.0716783216783217</sizeRatio>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fieldCount>2</fieldCount>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/divroot1/panel3/layoutx2/layoutxitem3">
      <left>0</left>
      <top>0</top>
      <width>154</width>
      <height>41</height>
      <widthRatio>0.259023354564756</widthRatio>
      <heightRatio>1</heightRatio>
      <sizeRatio>0.168032786885246</sizeRatio>
      <backgroundColor>f0f0f0</backgroundColor>
      <text>短信验证码</text>
      <fontSizeAuto>30</fontSizeAuto>
      <hAlign>right</hAlign>
      <heavy>70</heavy>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/divroot1/panel3/layoutx2/layoutxitem4">
      <left>154</left>
      <top>0</top>
      <width>439</width>
      <height>41</height>
      <leftRatio>0.259023354564756</leftRatio>
      <widthRatio>0.740976645435244</widthRatio>
      <heightRatio>1</heightRatio>
      <sizeRatio>0.0587392550143266</sizeRatio>
      <backgroundColor>d0d0d0</backgroundColor>
      <heavy>200</heavy>
    </control>
    <control type="Edit" pathname="/divRoot/divroot1/panel3/layoutx2/layoutxitem4/edit2">
      <left>0</left>
      <top>0</top>
      <width>439</width>
      <height>41</height>
      <widthRatio>1</widthRatio>
      <heightRatio>1</heightRatio>
      <sizeRatio>0.0587392550143266</sizeRatio>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <backgroundSkin>edit1</backgroundSkin>
      <inputFontSize>30</inputFontSize>
      <inputFontSizeAuto>30</inputFontSizeAuto>
    </control>
    <control type="Panel" pathname="/divRoot/divroot1/panel3/panel2">
      <left>44</left>
      <top>50</top>
      <width>669</width>
      <height>57</height>
      <leftRatio>0.0582959641255605</leftRatio>
      <topRatio>0.105263157894737</topRatio>
      <widthRatio>0.89237668161435</widthRatio>
      <heightRatio>0.12</heightRatio>
      <sizeRatio>0.14321608040201</sizeRatio>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <text>请输入您的手机号码，以后您将以这个号码登录系统</text>
      <fontSizeAuto>30</fontSizeAuto>
      <fontBold>true</fontBold>
    </control>
    <control type="Panel" pathname="/divRoot/divroot1/panel4">
      <left>0</left>
      <top>71</top>
      <width>775</width>
      <height>107</height>
      <topRatio>0.0866910866910867</topRatio>
      <widthRatio>1</widthRatio>
      <heightRatio>0.130647130647131</heightRatio>
      <sizeRatio>0.18904593639576</sizeRatio>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <backgroundImgMode>fill</backgroundImgMode>
      <fontSizeAuto>30</fontSizeAuto>
    </control>
    <control type="Panel" pathname="/divRoot/divroot1/panel4/panel7">
      <left>22</left>
      <top>34</top>
      <width>742</width>
      <height>71</height>
      <leftRatio>0.0283870967741936</leftRatio>
      <topRatio>0.317757009345794</topRatio>
      <widthRatio>0.95741935483871</widthRatio>
      <heightRatio>0.663551401869159</heightRatio>
      <sizeRatio>0.0956873315363881</sizeRatio>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <backgroundImg>step1.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <fontSizeAuto>30</fontSizeAuto>
    </control>
    <control type="Panel" pathname="/divRoot/divroot1/panel1">
      <left>175</left>
      <top>708</top>
      <width>420</width>
      <height>46</height>
      <leftRatio>0.226337448559671</leftRatio>
      <topRatio>0.864468864468865</topRatio>
      <widthRatio>0.54238683127572</widthRatio>
      <heightRatio>0.0561660561660562</heightRatio>
      <sizeRatio>0.0698027314112291</sizeRatio>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <backgroundSkin>button3</backgroundSkin>
      <text><![CDATA[下一步　>>]]></text>
      <fontSizeAuto>20</fontSizeAuto>
      <fontColor>FFFFFF</fontColor>
      <cursor>pointer</cursor>
      <onClick>checkSmsCode();</onClick>
    </control>
    <control type="LayoutY" pathname="/divRoot/divroot1/layouty1">
      <left>0</left>
      <top>0</top>
      <width>775</width>
      <height>90</height>
      <widthRatio>1</widthRatio>
      <heightRatio>0.10989010989011</heightRatio>
      <sizeRatio>0.116129032258065</sizeRatio>
      <dockX>fill</dockX>
      <dockY>ratio</dockY>
      <fieldCount>2</fieldCount>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/divroot1/layouty1/layoutyitem1">
      <left>0</left>
      <top>0</top>
      <width>775</width>
      <height>29</height>
      <widthRatio>1</widthRatio>
      <heightRatio>0.322222222222222</heightRatio>
      <sizeRatio>0.0235580828594639</sizeRatio>
      <backgroundColor>BFCEDF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <heavy>47</heavy>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/divroot1/layouty1/layoutyitem2">
      <left>0</left>
      <top>29</top>
      <width>775</width>
      <height>61</height>
      <topRatio>0.322222222222222</topRatio>
      <widthRatio>1</widthRatio>
      <heightRatio>0.677777777777778</heightRatio>
      <sizeRatio>0.049553208773355</sizeRatio>
      <backgroundColor>47A9F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <text>填写信息</text>
      <fontSizeAuto>15</fontSizeAuto>
      <fontColor>FFFFFF</fontColor>
    </control>
    <control type="Panel" pathname="/divRoot/divroot1/layouty1/layoutyitem2/panel8">
      <left>21</left>
      <top>13</top>
      <width>92</width>
      <height>34</height>
      <leftRatio>0.0274442538593482</leftRatio>
      <topRatio>0.213114754098361</topRatio>
      <widthRatio>0.118353344768439</widthRatio>
      <heightRatio>0.557377049180328</heightRatio>
      <sizeRatio>0.492753623188406</sizeRatio>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <backgroundImg>back.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <fontSizeAuto>30</fontSizeAuto>
      <cursor>pointer</cursor>
    </control>
    <control type="Panel" pathname="/divRoot/divroot1/layouty1/layoutyitem2/panel11">
      <left>2</left>
      <top>1</top>
      <width>152</width>
      <height>57</height>
      <leftRatio>0.00258064516129032</leftRatio>
      <topRatio>0.0163934426229508</topRatio>
      <widthRatio>0.196129032258065</widthRatio>
      <heightRatio>0.934426229508197</heightRatio>
      <sizeRatio>0.375</sizeRatio>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <backgroundSkin>empty</backgroundSkin>
      <onClick>window.location.href = ee.pageRoot + "/regNewCoach";
</onClick>
    </control>
  </controls>
  <taskSet count="2">
    <taskSetItem name="getSmsCode">
      <script1>var mobile = ee.getEditText(ee.getControl("edit1"));
//手机号码检测
if (mobile.length!=11) {
    alert("对不起，您输入的不是一个有效的手机号码");
    return;
}
if (!(/^\d+$/.test(mobile))) {
    alert("对不起，您输入的不是一个有效的手机号码");
    return;
} 

eio.appendString8(mobile);
</script1>
      <script2><![CDATA[var mobile = eio.readString8();
while (true) { 
    var sql = "select * from userInfo where mobile='" + mobile + "'";
    var sqlResult = db.executeQuery("PJ", sql);
    if (db.read(sqlResult)) {
        eio.appendString8("F");
        eio.appendString8("您输入的手机号码已经被注册使用过，请通过密码找回的形式获得您以前注册的账号");
        return;
    }
    //后台手机号验证
    if (mobile.length!=11) {
        eio.appendString8("F");
        eio.appendString8("手机号非法");
        break;
    }
    if (!(/^\d+$/.test(mobile))) {
        eio.appendString8("F");
        eio.appendString8("手机号非法");
        break;
    }
    //产生验证码
    var code = 0;
    var seed = (new Date()).getTime();
    while (code<1000) {
        seed = ( seed * 9301 + 49297 ) % 233280;
        var rand = seed / 233280.0;
        code = Math.floor(rand * 10000);
    }
    //存储验证码和手机号
    session.set("mobileCode", code + "");
    session.set("mobile", mobile);  
    
    //发送验证码
    var sql = "insert into sms (mobile, message) values (" +
        "'" + db.encode(mobile) + "'," +
        "'您的验证码是：" + code + "')";
    if (!db.executeNoneQuery("PJ", sql)) {
        eio.appendString8("F");
        eio.appendString8("系统繁忙请稍后再试");
        break;
    } 
    eio.appendString8("T"); 
    break;
}     

              ]]></script2>
      <script3>if (eio.readString8()!="T") {
    alert("发送验证码失败：" + eio.readString8());
    return;
}   

alert("验证码已经以短信的形式发送到您的手机上，请注意查收。验证码是一个4位的数字，请将它填写在下面的栏目中");

</script3>
    </taskSetItem>
    <taskSetItem name="checkSmsCode">
      <script1>var mobileCode = ee.getEditText(ee.getControl("edit2"));
eio.appendString8(mobileCode);
</script1>
      <script2><![CDATA[var mobileCode = eio.readString8();
while (true) {
    var mobileCodeS = session.get("mobileCode");
    if (mobileCodeS.length<=0) {
        eio.appendString8("F");
        eio.appendString8("请点击发送按钮，收到短信后填写验证码");
        break;
    }
    if (mobileCodeS!=mobileCode) {
        session.set("mobileCode", "");
        eio.appendString8("F");
        eio.appendString8("您输入的验证码不正确，请重新发送并输入一次验证码");
        break;
    }    
    eio.appendString8("T");
    session.set("mobileCheck", "true");
    break;
}
]]></script2>
      <script3>if (eio.readString8()!="T") {
    alert("验证失败：" + eio.readString8());
    return;
}
window.location.href = ee.pageRoot + "/regNewCoach/newCoach2";

 
</script3>
    </taskSetItem>
  </taskSet>
  <gridLines count="0" />
</page>