<page>
  <controls count="6">
    <control type="DivRoot" pathname="/divRoot">
      <backgroundColor>ffffff</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>816</height>
      <left>0</left>
      <onControlLoad><![CDATA[var isIOS = !!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);
if (!isIOS) {
    //ee.getControl("layoutyitem8").heavy = 0; 
    g5.flag = "ios";   
}else {
    g5.flag = "others";
}

//ee.setVisible(ee.getControl("panel5"),true);     

var e1 = ee.getControl("panel2");
var e2 = ee.getControl("panel3");
var e3 = ee.getControl("panel4");     
ee.setVisible(e1,true);   

var out_go = ee.getControl("panel5");

g5.n = 0;  
g5.page = 0;

g5.changeF = 0;

            

//html5 新增 touch 事件
//禁用手机默认的触屏滚动行为
document.addEventListener('touchmove', function(event) {
    event.preventDefault();
}, false);
//touchstart事件
function touchSatrtFunc(evt) {
    try {
        //evt.preventDefault(); //阻止触摸时浏览器的缩放、滚动条滚动等
 
        var touch = evt.touches[0]; //获取第一个触点
        var x = Number(touch.pageX); //页面触点X坐标
        var y = Number(touch.pageY); //页面触点Y坐标
        //记录触点初始位置
        g5.startX = x;
        g5.startY = y;
 
 
    } catch (e) {
        alert('touchSatrtFunc：' + e.message);
    }
}
 
//touchmove事件，这个事件 获取坐标
function touchMoveFunc(evt) {
    try {
        //evt.preventDefault(); //阻止触摸时浏览器的缩放、滚动条滚动等
        var touch = evt.touches[0]; //获取第一个触点
        g5.x = Number(touch.pageX); //页面触点X坐标
        g5.y = Number(touch.pageY); //页面触点Y坐标 

        //document.getElementById("version").innerHTML = "原:"+startY+"   "+"现:"+y;

    } catch (e) {
        alert('touchMoveFunc：' + e.message);
    } 
    
}
 
//touchend事件
function touchEndFunc(evt) {
    try {
        //evt.preventDefault(); //阻止触摸时浏览器的缩放、滚动条滚动等 
        //判断滑动方向 
         
         if (g5.x - g5.startX > 50){
            //alert("right"); 
            
            g5.n --;
            g5.changeF = 1;
            
        }else if (g5.x - g5.startX < -50){
            //alert("left"); 
          
            g5.n ++;
            g5.changeF = 2;   
           
   
        } 
        if (g5.changeF > 0){
            //alert(g5.n); 
            console.log("n="+g5.n);
            console.log("f="+g5.changeF);
            if (g5.n < 0){
                g5.n = 0;
            }
            if (g5.n > 3){
                g5.n = 3;
            } 
            if (g5.n == 0 &amp;&amp; g5.changeF ==2){
                ee.showAni(e1,true); 
                //ee.setVisible(e2,false);
                //ee.setVisible(e3,false);
            }else if (g5.n == 1 &amp;&amp; g5.changeF ==2){
                ee.showAni(e2,true);
               // ee.setVisible(e1,false);
               // ee.setVisible(e3,false);
            }else if (g5.n == 2 &amp;&amp; g5.changeF ==2){
                ee.showAni(e3,true);
                ee.setVisible(out_go,true);
               // ee.setVisible(e1,false);
               // ee.setVisible(e2,false);
                
            }else if (g5.n == 1 &amp;&amp; g5.changeF ==1){
                ee.setVisible(e2,true);
                ee.setVisible(e1,false);
                ee.setVisible(e3,false); 
                ee.setVisible(out_go,false);
            }else if (g5.n == 0 &amp;&amp; g5.changeF ==1){
                ee.setVisible(e1,true);
                ee.setVisible(e3,false);
                ee.setVisible(e2,false);
            }else if (g5.n == 3 &amp;&amp; g5.changeF ==2){
                //alert("已划到最后一张");
            }
             
              
        } 
              
        g5.changeF = 0;                                          
 
    } catch (e) {
        //alert('touchEndFunc：' + e.message);
        window.location.href = ee.pageRoot + "/login";    //发生错误，则跳回到login页面，由于已设置cookie，所以不会重复跳入该页面
    }
}
 
//绑定事件
function bindEvent() {
    document.addEventListener('touchstart', touchSatrtFunc, false);
    document.addEventListener('touchmove', touchMoveFunc, false);
    document.addEventListener('touchend', touchEndFunc, false);
}
 
//判断是否支持触摸事件
function isTouchDevice() {
    //document.getElementById("version").innerHTML = navigator.appVersion;
 
    try {
        document.createEvent("TouchEvent");
        //alert("支持TouchEvent事件！");
 
        bindEvent(); //绑定事件
    } catch (e) {
        //alert("不支持TouchEvent事件！" + e.message); 
        window.location.href = ee.pageRoot + "/login";   //设备不支持touchEvent事件，则跳回到login页面，由于已设置cookie，所以不会重复跳入该页面
    }
}

isTouchDevice();]]></onControlLoad>
      <top>0</top>
      <width>432</width>
    </control>
    <control type="Panel" pathname="/divRoot/panel1">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>816</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>1.86301369863014</sizeRatio>
      <top>0</top>
      <width>432</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel2">
      <aniPos>rightFlyIn:右侧飞入</aniPos>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImg>1-1.gif</backgroundImg>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>816</height>
      <heightRatio>1</heightRatio>
      <layerName>y1</layerName>
      <left>0</left>
      <sizeRatio>1.86301369863014</sizeRatio>
      <top>0</top>
      <width>432</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel3">
      <aniPos>rightFlyIn:右侧飞入</aniPos>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImg>2-1.gif</backgroundImg>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>816</height>
      <heightRatio>1</heightRatio>
      <layerName>y2</layerName>
      <left>0</left>
      <sizeRatio>1.86301369863014</sizeRatio>
      <top>0</top>
      <width>432</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel1/panel4">
      <aniPos>rightFlyIn:右侧飞入</aniPos>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImg>3-1.gif</backgroundImg>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>816</height>
      <heightRatio>1</heightRatio>
      <layerName>y3</layerName>
      <left>0</left>
      <sizeRatio>1.86301369863014</sizeRatio>
      <top>0</top>
      <width>432</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel5">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <heightRatio>0.122549019607843</heightRatio>
      <layerName>out_go</layerName>
      <left>55</left>
      <leftRatio>0.127853881278539</leftRatio>
      <onClick>window.location.href = ee.pageRoot + "/login";</onClick>
      <sizeRatio>0.305810397553517</sizeRatio>
      <top>677</top>
      <topRatio>0.829656862745098</topRatio>
      <width>323</width>
      <widthRatio>0.746575342465753</widthRatio>
    </control>
  </controls>
  <taskSet count="0" />
  <gridLines count="0" />
</page>