<page>
  <controls count="53">
    <control type="DivRoot" pathname="/divRoot">
      <backgroundColor>F5F5F5</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>816</height>
      <left>0</left>
      <onControlLoad>var isIOS = !!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);
if (!isIOS) {
    ee.getControl("layoutyitem1").heavy = 0;
}
setTimeout(function(){
    ee.autoResize = false;
},1000);
g5.readFlag=0;     

//显示学员的下一步和协议
ee.setVisible(ee.getControl("panel18"),true); 
ee.setVisible(ee.getControl("panel24"),true);
</onControlLoad>
      <onPageCreate>getSession();  
</onPageCreate>
      <pageHead><![CDATA[<meta name="viewport" content="width=device-width, minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">]]></pageHead>
      <top>0</top>
      <width>445</width>
    </control>
    <control type="LayoutY" pathname="/divRoot/layouty1">
      <dockX>fill</dockX>
      <dockY>ratio</dockY>
      <fieldCount>2</fieldCount>
      <height>90</height>
      <heightRatio>0.10989010989011</heightRatio>
      <left>0</left>
      <sizeRatio>0.096051227321238</sizeRatio>
      <top>0</top>
      <width>445</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/layouty1/layoutyitem1">
      <backgroundColor>BFCEDF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <heavy>47</heavy>
      <height>29</height>
      <heightRatio>0.322222222222222</heightRatio>
      <left>0</left>
      <sizeRatio>0.0662100456621005</sizeRatio>
      <top>0</top>
      <width>445</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/layouty1/layoutyitem2">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>15</fontSizeAuto>
      <height>61</height>
      <heightRatio>0.677777777777778</heightRatio>
      <left>0</left>
      <sizeRatio>0.137078651685393</sizeRatio>
      <text>注册</text>
      <top>29</top>
      <topRatio>0.322222222222222</topRatio>
      <width>445</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/layouty1/layoutyitem2/panel6">
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontSizeAuto>18</fontSizeAuto>
      <height>34</height>
      <heightRatio>0.557377049180328</heightRatio>
      <left>12</left>
      <leftRatio>0.0269662921348315</leftRatio>
      <sizeRatio>0.641509433962264</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>13</top>
      <topRatio>0.213114754098361</topRatio>
      <width>53</width>
      <widthRatio>0.119101123595506</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/layouty1/layoutyitem2/panel7">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>57</height>
      <heightRatio>0.934426229508197</heightRatio>
      <left>1</left>
      <leftRatio>0.0022075055187638</leftRatio>
      <onClick>window.location.href = ee.pageRoot + "/regMain";</onClick>
      <sizeRatio>0.149214659685864</sizeRatio>
      <top>1</top>
      <topRatio>0.0163934426229508</topRatio>
      <width>188</width>
      <widthRatio>0.421633554083885</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/layoutx1">
      <dockX>fill</dockX>
      <dockY>ratio</dockY>
      <fieldCount>2</fieldCount>
      <height>0</height>
      <left>0</left>
      <top>89</top>
      <topRatio>0.10906862745098</topRatio>
      <width>445</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/layoutx1/layoutxitem1">
      <backgroundColor>f0f0f0</backgroundColor>
      <fontColor>727272</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>20</fontSizeAuto>
      <height>0</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onClick>//g5.a="a";     
ee.setVisible(ee.getControl("panel5"),false);   
ee.setTextColor(ee.getControl("layoutxitem2"),"#727272"); 
ee.setVisible(ee.getControl("panel3"),true);   
ee.setTextColor(ee.getControl("layoutxitem1"),"#47a9f9");   
g5.userType=0;
//ee.setVisible(ee.getControl("panel18"),true);    
 
ee.setVisible(ee.getControl("panel17"),false);
//显示学员的下一步和协议
ee.setVisible(ee.getControl("panel18"),true); 
ee.setVisible(ee.getControl("panel24"),true);

</onClick>
      <sizeRatio>0.365296803652968</sizeRatio>
      <text>学员注册</text>
      <top>0</top>
      <width>222</width>
      <widthRatio>0.5</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/layoutx1/layoutxitem1/panel1">
      <backgroundColor>E0E0E0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>1</height>
      <heightRatio>0.0125</heightRatio>
      <left>0</left>
      <sizeRatio>0.0045662100456621</sizeRatio>
      <top>-1</top>
      <topRatio>0.9875</topRatio>
      <width>222</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/layoutx1/layoutxitem1/panel3">
      <backgroundColor>47A9F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>3</height>
      <heightRatio>0.0375</heightRatio>
      <layerName>用户</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0136986301369863</sizeRatio>
      <top>-3</top>
      <topRatio>0.9625</topRatio>
      <width>222</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/layoutx1/layoutxitem2">
      <backgroundColor>d0d0d0</backgroundColor>
      <fontColor>727272</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>20</fontSizeAuto>
      <height>0</height>
      <heightRatio>1</heightRatio>
      <left>222</left>
      <leftRatio>0.498876404494382</leftRatio>
      <onClick>//alert(g5.a); 
ee.setVisible(ee.getControl("panel5"),true);   
ee.setTextColor(ee.getControl("layoutxitem2"),"#47a9f9"); 
ee.setVisible(ee.getControl("panel3"),false);   
ee.setTextColor(ee.getControl("layoutxitem1"),"#727272");    
g5.userType=1;
//ee.setVisible(ee.getControl("panel18"),true);
                                                     

ee.setVisible(ee.getControl("panel17"),true);
//显示学员的下一步和协议
ee.setVisible(ee.getControl("panel18"),false); 
ee.setVisible(ee.getControl("panel24"),false);
</onClick>
      <sizeRatio>0.358744394618834</sizeRatio>
      <top>0</top>
      <width>223</width>
      <widthRatio>0.501123595505618</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/layoutx1/layoutxitem2/panel2">
      <backgroundColor>E0E0E0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>1</height>
      <heightRatio>0.0125</heightRatio>
      <left>0</left>
      <sizeRatio>0.0045662100456621</sizeRatio>
      <top>-1</top>
      <topRatio>0.9875</topRatio>
      <width>223</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/layoutx1/layoutxitem2/panel5">
      <backgroundColor>47A9F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>3</height>
      <heightRatio>0.0375</heightRatio>
      <layerName>教练</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0136986301369863</sizeRatio>
      <top>-3</top>
      <topRatio>0.9625</topRatio>
      <width>223</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/layoutx2">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>55</height>
      <heightRatio>0.0674019607843137</heightRatio>
      <left>10</left>
      <leftRatio>0.0224719101123596</leftRatio>
      <sizeRatio>0.130023640661939</sizeRatio>
      <top>119</top>
      <topRatio>0.145833333333333</topRatio>
      <width>423</width>
      <widthRatio>0.950561797752809</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/layoutx2/layoutxitem3">
      <backgroundColor>f0f0f0</backgroundColor>
      <fontColor>727272</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <heavy>80</heavy>
      <height>55</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>0.662650602409639</sizeRatio>
      <text>昵称</text>
      <top>0</top>
      <width>85</width>
      <widthRatio>0.199040767386091</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/layoutx2/layoutxitem3/panel10">
      <backgroundColor>E0E0E0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>1</height>
      <heightRatio>0.0181818181818182</heightRatio>
      <left>0</left>
      <sizeRatio>0.0120481927710843</sizeRatio>
      <top>54</top>
      <topRatio>0.981818181818182</topRatio>
      <width>85</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/layoutx2/layoutxitem4">
      <backgroundColor>d0d0d0</backgroundColor>
      <heavy>200</heavy>
      <height>55</height>
      <heightRatio>1</heightRatio>
      <left>85</left>
      <leftRatio>0.199040767386091</leftRatio>
      <sizeRatio>0.263157894736842</sizeRatio>
      <top>0</top>
      <width>211</width>
      <widthRatio>0.501199040767386</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/layoutx2/layoutxitem4/edit1">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>ratio</dockX>
      <dockY>fill</dockY>
      <fontColor>C7C7C7</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>55</height>
      <heightRatio>1</heightRatio>
      <inputFont>黑体</inputFont>
      <inputFontSizeAuto>20</inputFontSizeAuto>
      <left>39</left>
      <leftRatio>0.185595567867036</leftRatio>
      <sizeRatio>0.212355212355212</sizeRatio>
      <text>请输入昵称</text>
      <top>0</top>
      <width>151</width>
      <widthRatio>0.717451523545706</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/layoutx2/layoutxitem4/panel9">
      <backgroundColor>E0E0E0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>1</height>
      <heightRatio>0.0181818181818182</heightRatio>
      <left>0</left>
      <sizeRatio>0.00478468899521531</sizeRatio>
      <top>54</top>
      <topRatio>0.981818181818182</topRatio>
      <width>211</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/layoutx2/layoutxitem5">
      <backgroundColor>f0f0f0</backgroundColor>
      <heavy>120</heavy>
      <height>55</height>
      <heightRatio>1</heightRatio>
      <left>296</left>
      <leftRatio>0.700239808153477</leftRatio>
      <sizeRatio>0.44</sizeRatio>
      <top>0</top>
      <width>127</width>
      <widthRatio>0.299760191846523</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/layoutx2/layoutxitem5/panel8">
      <backgroundColor>D5011A</backgroundColor>
      <backgroundSkin>empty</backgroundSkin>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>30</fontSizeAuto>
      <height>33</height>
      <heightRatio>0.6</heightRatio>
      <left>12</left>
      <leftRatio>0.094488188976378</leftRatio>
      <onClick>checkName();                                                         </onClick>
      <sizeRatio>0.28695652173913</sizeRatio>
      <text>看看是否重名</text>
      <top>9</top>
      <topRatio>0.163636363636364</topRatio>
      <width>115</width>
      <widthRatio>0.905511811023622</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/layoutx2/layoutxitem5/panel11">
      <backgroundColor>E0E0E0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>1</height>
      <heightRatio>0.0181818181818182</heightRatio>
      <left>0</left>
      <sizeRatio>0.008</sizeRatio>
      <top>54</top>
      <topRatio>0.981818181818182</topRatio>
      <width>127</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel4">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontColor>C7C7C7</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>30</fontSizeAuto>
      <hAlign>right</hAlign>
      <height>32</height>
      <heightRatio>0.0392156862745098</heightRatio>
      <left>161</left>
      <leftRatio>0.361797752808989</leftRatio>
      <sizeRatio>0.117216117216117</sizeRatio>
      <text>2-8个字符</text>
      <top>174</top>
      <topRatio>0.213235294117647</topRatio>
      <width>273</width>
      <widthRatio>0.613483146067416</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/layoutx3">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fieldCount>2</fieldCount>
      <height>55</height>
      <heightRatio>0.0674019607843137</heightRatio>
      <left>10</left>
      <leftRatio>0.0224719101123596</leftRatio>
      <sizeRatio>0.130023640661939</sizeRatio>
      <top>209</top>
      <topRatio>0.256127450980392</topRatio>
      <width>423</width>
      <widthRatio>0.950561797752809</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/layoutx3/layoutxitem6">
      <backgroundColor>f0f0f0</backgroundColor>
      <fontColor>727272</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <heavy>80</heavy>
      <height>55</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>0.46218487394958</sizeRatio>
      <text>登录密码</text>
      <top>0</top>
      <width>121</width>
      <widthRatio>0.28537170263789</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/layoutx3/layoutxitem6/panel12">
      <backgroundColor>E0E0E0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>1</height>
      <heightRatio>0.0181818181818182</heightRatio>
      <left>0</left>
      <sizeRatio>0.00840336134453781</sizeRatio>
      <top>54</top>
      <topRatio>0.981818181818182</topRatio>
      <width>121</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/layoutx3/layoutxitem7">
      <backgroundColor>d0d0d0</backgroundColor>
      <heavy>200</heavy>
      <height>55</height>
      <heightRatio>1</heightRatio>
      <left>121</left>
      <leftRatio>0.28537170263789</leftRatio>
      <sizeRatio>0.184563758389262</sizeRatio>
      <top>0</top>
      <width>302</width>
      <widthRatio>0.71462829736211</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/layoutx3/layoutxitem7/edit2">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>C7C7C7</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>55</height>
      <heightRatio>1</heightRatio>
      <inputFont>黑体</inputFont>
      <inputFontSizeAuto>20</inputFontSizeAuto>
      <inputPassword>true</inputPassword>
      <left>0</left>
      <sizeRatio>0.184563758389262</sizeRatio>
      <text>请输入密码</text>
      <top>0</top>
      <width>302</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/layoutx3/layoutxitem7/panel13">
      <backgroundColor>E0E0E0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>1</height>
      <heightRatio>0.0181818181818182</heightRatio>
      <left>0</left>
      <sizeRatio>0.00335570469798658</sizeRatio>
      <top>54</top>
      <topRatio>0.981818181818182</topRatio>
      <width>302</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/layoutx4">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fieldCount>2</fieldCount>
      <height>55</height>
      <heightRatio>0.0674019607843137</heightRatio>
      <left>10</left>
      <leftRatio>0.0224719101123596</leftRatio>
      <sizeRatio>0.129716981132075</sizeRatio>
      <top>267</top>
      <topRatio>0.327205882352941</topRatio>
      <width>424</width>
      <widthRatio>0.952808988764045</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/layoutx4/layoutxitem8">
      <backgroundColor>f0f0f0</backgroundColor>
      <fontColor>727272</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <heavy>80</heavy>
      <height>55</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>0.46218487394958</sizeRatio>
      <text>重复密码</text>
      <top>0</top>
      <width>121</width>
      <widthRatio>0.28537170263789</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/layoutx4/layoutxitem8/panel14">
      <backgroundColor>E0E0E0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>1</height>
      <heightRatio>0.0181818181818182</heightRatio>
      <left>0</left>
      <sizeRatio>0.00840336134453781</sizeRatio>
      <top>54</top>
      <topRatio>0.981818181818182</topRatio>
      <width>121</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/layoutx4/layoutxitem9">
      <backgroundColor>d0d0d0</backgroundColor>
      <heavy>200</heavy>
      <height>55</height>
      <heightRatio>1</heightRatio>
      <left>121</left>
      <leftRatio>0.28537170263789</leftRatio>
      <sizeRatio>0.184563758389262</sizeRatio>
      <top>0</top>
      <width>303</width>
      <widthRatio>0.71462829736211</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/layoutx4/layoutxitem9/edit3">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>C7C7C7</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>55</height>
      <heightRatio>1</heightRatio>
      <inputFont>黑体</inputFont>
      <inputFontSizeAuto>20</inputFontSizeAuto>
      <inputPassword>true</inputPassword>
      <left>0</left>
      <sizeRatio>0.184563758389262</sizeRatio>
      <text>请再次输入密码</text>
      <top>0</top>
      <width>303</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/layoutx4/layoutxitem9/panel15">
      <backgroundColor>E0E0E0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>1</height>
      <heightRatio>0.0181818181818182</heightRatio>
      <left>0</left>
      <sizeRatio>0.00335570469798658</sizeRatio>
      <top>54</top>
      <topRatio>0.981818181818182</topRatio>
      <width>303</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel16">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontColor>C7C7C7</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>30</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>31</height>
      <heightRatio>0.0379901960784314</heightRatio>
      <left>10</left>
      <leftRatio>0.0224719101123596</leftRatio>
      <sizeRatio>0.0767326732673267</sizeRatio>
      <text>密码长度为6-15个字符，最好同时包含数字和英文字母</text>
      <top>338</top>
      <topRatio>0.41421568627451</topRatio>
      <width>404</width>
      <widthRatio>0.907865168539326</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel17">
      <backgroundColor>D5011A</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontSizeAuto>20</fontSizeAuto>
      <height>57</height>
      <heightRatio>0.0698529411764706</heightRatio>
      <layerName>教练下一步</layerName>
      <layerVisible>false</layerVisible>
      <left>31</left>
      <leftRatio>0.0696629213483146</leftRatio>
      <onClick>
if(g5.userType==0){ 
    if(g5.readFlag==0){
       //alert("请先阅读注册条款");
       // return;
    }
    reg();     
}  
else { 
    if(g5.readFlag==0){
       //alert("请先阅读注册条款");
       // return;
    }
    regs();    
}
</onClick>
      <sizeRatio>0.149214659685864</sizeRatio>
      <text>下一步</text>
      <top>388</top>
      <topRatio>0.475490196078431</topRatio>
      <width>382</width>
      <widthRatio>0.858426966292135</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel18">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>48</height>
      <heightRatio>0.0588235294117647</heightRatio>
      <layerName>条款 隐藏</layerName>
      <left>11</left>
      <leftRatio>0.0247191011235955</leftRatio>
      <sizeRatio>0.113475177304965</sizeRatio>
      <top>370</top>
      <topRatio>0.45343137254902</topRatio>
      <width>423</width>
      <widthRatio>0.950561797752809</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel18/panel28">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>33</height>
      <heightRatio>0.6875</heightRatio>
      <left>26</left>
      <leftRatio>0.0624263839811543</leftRatio>
      <onClick>ee.setVisible(ee.getControl("panel22"),true);  
ee.setText(ee.getControl("panel68"),ee.getEditText(ee.getControl("edit1")));   
ee.setVisible(ee.getControl("panel19"),true);

 </onClick>
      <sizeRatio>0.0426908150064683</sizeRatio>
      <text><![CDATA[我已阅读并同意<FONT COLOR="#47a9f9">使用注册条款</FONT>]]></text>
      <top>10</top>
      <topRatio>0.208333333333333</topRatio>
      <width>385</width>
      <widthRatio>0.910482921083628</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel18/panel26">
      <backgroundImg>gou1.png</backgroundImg>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>33</height>
      <heightRatio>0.6875</heightRatio>
      <left>-3</left>
      <leftRatio>-0.00761421319796954</leftRatio>
      <onClick>if(g5.readFlag==0){
    g5.readFlag=1; 
    //alert(g5.readFlag)   
    ee.setImage(ee.getControl("panel26"),"/App1PJ/regCoaches/gou2.png","trim","","");
}
else {
    g5.readFlag=0;
    //alert("a:"+g5.readFlag)   
    ee.setImage(ee.getControl("panel26"),"/App1PJ/regCoaches/gou1.png","trim","","");
}

</onClick>
      <sizeRatio>0.673469387755102</sizeRatio>
      <top>10</top>
      <topRatio>0.208333333333333</topRatio>
      <width>26</width>
      <widthRatio>0.0621827411167513</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel22">
      <alpha>0.3</alpha>
      <backgroundColor>000000</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>816</height>
      <heightRatio>1</heightRatio>
      <layerName>遮罩</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>1.86301369863014</sizeRatio>
      <top>0</top>
      <width>445</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel19">
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundSkin>body5</backgroundSkin>
      <dockX>fill</dockX>
      <dockY>ratio</dockY>
      <fontFamily>黑体</fontFamily>
      <height>693</height>
      <heightRatio>0.849264705882353</heightRatio>
      <layerName>条款内容</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <leftRatio>0.00200803212851406</leftRatio>
      <sizeRatio>1.39156626506024</sizeRatio>
      <top>94</top>
      <topRatio>0.115196078431373</topRatio>
      <width>445</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel19/panel20">
      <autoScroll>true</autoScroll>
      <dockX>fill</dockX>
      <dockY>ratio</dockY>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>30</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>512</height>
      <heightRatio>0.738816738816739</heightRatio>
      <left>40</left>
      <leftRatio>0.0330578512396694</leftRatio>
      <outerBottom>40</outerBottom>
      <outerLeft>40</outerLeft>
      <outerRight>40</outerRight>
      <outerTop>40</outerTop>
      <sizeRatio>0.453097345132743</sizeRatio>
      <text><![CDATA[　　为了提高乙方的机动车驾驶水平，减少交通事故的发生，经甲乙双方充分协商，并根据国家相关规定，双方自愿达成如下协议，望共同遵守，具体事项如下（乙方勾选同意后即刻生效）：

<b>（一）陪驾要求</b>

　　1、每次陪驾乙方均需持有本人真实、有效的C2及以上准驾车型的驾驶证件并在上车前主动向甲方陪练员出示。
　　2、甲方陪练员在每次陪练开始前主动或在乙方要求时出示自己的《1陪驾驾驶陪练员证》。
　　3、如在陪驾过程中乙方使用自备车辆，乙方须确保车辆具备安全使用条件，建议有购买保额在人民币100万元以上（含100万元）的第三者责任险。因乙方车况不好、车险保额不足、乙方驾驶技术不佳等导致的所有后果（包括但不限于交通违章、事故损害）由乙方自行承担，与甲方及陪练员无关。

<b>（二）陪驾价格</b>

　　1、陪练费用和套餐优惠情况以甲方实时公布的收费标准为准。
　　2、乙方若更改、取消陪驾时间、地点，在下订单后半小时内取消或者提前24小时提出申请将不扣除金额，否则：
　　① 提前12~24小时取消，扣除订单金额20元；
　　② 提前3~12小时取消，扣除订单金额30元；
　　③ 提前3小时以内取消，扣除订单金额50元；
　　④ 无提前通知取消订单，扣除订单金额100元。
　　3、如果甲方陪练员和乙方见面后，由于乙方未带驾照而必须中止订单，则需扣除乙方该订单费用100元，其余费用退还至乙方1陪驾账户。

<b>（三）陪驾路线</b>

　　1、甲方陪练员会根据乙方的驾驶基础为乙方制定具有针对性的陪驾计划，具体陪练路线由甲方陪练员指定，乙方行驶速度不得超过每小时60千米。乙方不得违反甲方陪练员的指令更改陪练路线，也不得单方要求甲方陪练员做出违反要求的陪驾计划，否则甲方陪练员有权结束本次陪驾，乙方仍应全额支付陪练费用。
　　2、自备车陪驾学员，上下车地点要一致，并需给甲方陪练员提供免费停车位或停车费用。

<b>（四）陪驾计时</b>

　　1、如双方都准时到达约定地点，则从双方约定时间开始计时，到约定时间结束为止。
　　2、如甲方陪练员因堵车等原因迟到，陪练员会提前电话通知学员，并在接到乙方后才开始计时。
　　3、如乙方迟到，则从原约定时间开始计时。

<b>（五）陪驾人数</b>

　　为了乙方及他人安全，在陪驾过程中除乙方外，无关人等不能上车。若乙方因自身原因坚持让其他人等上车，乙方应自负责任。

<b>（六）陪驾结束</b>

　　1、陪驾到约定的时间即结束，陪驾开始后，如因乙方原因需提前终止本次陪驾，甲方全额收取本次陪驾费用。
　　2、乙方需要索取发票，请拨打客服电话办理，如需快递，快递费由乙方承担。

<b>（七）陪驾过程</b>

　　1、陪驾过程中，如发生过路、过桥、停车等费用，由乙方自行承担。
　　2、安全第一，甲方陪练员和乙方不得作任何影响安全的行为。

<b>（八）责任划分</b>

　　1、乙方在用甲方提供的陪驾车辆（含甲方陪练员车辆或乙方自带车辆）进行陪驾时，如在甲方陪练员陪同时出现车辆故障、追尾、刮蹭、人身损害等各种车辆事故，乙方应积极配合甲方负责报案理赔、人员救治、车辆维修等，乙方需配合、提供甲方在理赔中交通管理部门或保险公司所需要的证件、口述和笔录等；乙方承担驾照扣分责任及其他法律规定的应由驾驶员承担的责任。
　　甲方车辆保险不能够覆盖本车及应对其负责任的车辆和人员的损失损害赔偿的，乙方承担保险之外的所有费用，并在损失损害赔偿金额确定后3天内付清。
　　2、乙方在用甲方陪练员提供的陪驾车辆进行陪驾时，如甲方陪练员临时不在车上时，乙方不可私自开动陪驾车辆，否则因此造成的各种事故，乙方应对甲方陪练员的损失负全责，包括乙方应自行承担本车及应对其负责任的车辆和人员（含乙方及甲方陪练员等）的损失损害赔偿费用，并在损失损害赔偿金额确定后3天内付清。依据相关规定使用甲方陪驾车辆保险或甲方资金先行赔付的，乙方应予偿还。
　　3、乙方在用自备车陪驾时，如发生交通事故，甲方不承担任何责任及赔偿，由乙方保险公司及乙方自行承担，甲方有责任协助乙方处理事故理赔。
　　4、乙方在怀孕期间，不得进行陪驾，如隐瞒事实进行陪驾，发生交通事故而产生任何方面的损失及赔偿，甲方不承担任何责任。
　　5、乙方在驾驶过程中，有故意违反交通法规，经劝阻无效的，陪练员有权终止其课程并收取全部费用。
　　6、甲方为乙方购买有陪驾过程中的保险，如因乙方不愿提供真实的身份证信息等原因导致保险未能生效，则甲方对陪练过程中的相应的责任事故不承担任何责任。

<b>（九）后续陪驾预约</b>

　　1、乙方当次陪驾结束后，如需预约后续或延长陪驾时间，乙方可登录“1陪驾”平台或拨打客服电话，进行陪驾预约。若擅自与甲方陪练员增加陪练时间，此增加时段内发生的一切交通事故及索赔等事宜，甲方概不负责，且乙方应承担甲方陪练员的一切损失，参照前述第（八）条第2项约定处理。
　　2、如乙方对本次甲方陪练员不满意，可登录“1陪驾”平台或拨打客服电话中止陪驾，及时向甲方提出更换陪练员要求并说明原因，甲方将根据查明情况与乙方协商解决。

<b>（十）本协议自乙方确认同意之时起生效，确认方式包括在“1陪驾”平台勾选同意等方式。</b>
]]></text>
      <top>110</top>
      <topRatio>0.158730158730159</topRatio>
      <vAlign>top</vAlign>
      <width>365</width>
      <widthRatio>0.933884297520661</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel19/panel21">
      <backgroundSkin>button3</backgroundSkin>
      <cursor>pointer</cursor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontColor>FFFFFF</fontColor>
      <fontSizeAuto>20</fontSizeAuto>
      <height>47</height>
      <heightRatio>0.0678210678210678</heightRatio>
      <left>102</left>
      <leftRatio>0.228260869565217</leftRatio>
      <onClick>ee.setVisible(ee.getControl("panel19"),false);     
ee.setVisible(ee.getControl("panel22"),false);

 </onClick>
      <sizeRatio>0.187250996015936</sizeRatio>
      <text>确定</text>
      <top>632</top>
      <topRatio>0.911976911976912</topRatio>
      <width>243</width>
      <widthRatio>0.545652173913043</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel19/panel23">
      <backgroundColor>E0E0E0</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <heightRatio>0.144300144300144</heightRatio>
      <left>37</left>
      <leftRatio>0.0826086956521739</leftRatio>
      <sizeRatio>0.261096605744125</sizeRatio>
      <top>16</top>
      <topRatio>0.0230880230880231</topRatio>
      <width>371</width>
      <widthRatio>0.832608695652174</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel19/panel23/panel64">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>40</height>
      <heightRatio>0.4</heightRatio>
      <left>14</left>
      <leftRatio>0.038860103626943</leftRatio>
      <sizeRatio>0.112676056338028</sizeRatio>
      <top>16</top>
      <topRatio>0.16</topRatio>
      <width>341</width>
      <widthRatio>0.919689119170985</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel19/panel23/panel64/panel70">
      <dockY>ratio</dockY>
      <fontBold>true</fontBold>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>40</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>0.701754385964912</sizeRatio>
      <text>甲方：</text>
      <top>0</top>
      <width>57</width>
      <widthRatio>0.16056338028169</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel19/panel23/panel64/panel71">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontBold>true</fontBold>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>40</height>
      <heightRatio>1</heightRatio>
      <left>48</left>
      <leftRatio>0.140845070422535</leftRatio>
      <sizeRatio>0.138888888888889</sizeRatio>
      <text>上海云培信息技术有限公司</text>
      <top>0</top>
      <width>277</width>
      <widthRatio>0.811267605633803</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel19/panel23/panel66">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>40</height>
      <heightRatio>0.4</heightRatio>
      <left>14</left>
      <leftRatio>0.038860103626943</leftRatio>
      <sizeRatio>0.112676056338028</sizeRatio>
      <top>52</top>
      <topRatio>0.52</topRatio>
      <width>341</width>
      <widthRatio>0.919689119170985</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel19/panel23/panel66/panel67">
      <dockY>ratio</dockY>
      <fontBold>true</fontBold>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>40</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>0.701754385964912</sizeRatio>
      <text>乙方：</text>
      <top>0</top>
      <width>57</width>
      <widthRatio>0.16056338028169</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel19/panel23/panel66/panel68">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontBold>true</fontBold>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>40</height>
      <heightRatio>1</heightRatio>
      <left>48</left>
      <leftRatio>0.140845070422535</leftRatio>
      <sizeRatio>0.138888888888889</sizeRatio>
      <text>参与1陪驾陪练服务的陪练员</text>
      <top>0</top>
      <width>277</width>
      <widthRatio>0.811267605633803</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel19/panel23/panel66/panel68/panel69">
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>2</height>
      <heightRatio>0.05</heightRatio>
      <left>0</left>
      <sizeRatio>0.00888888888888889</sizeRatio>
      <top>33</top>
      <topRatio>0.825</topRatio>
      <width>216</width>
      <widthRatio>0.78125</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel24">
      <backgroundColor>D5011A</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontSizeAuto>20</fontSizeAuto>
      <height>57</height>
      <heightRatio>0.0698529411764706</heightRatio>
      <layerName>学员下一步</layerName>
      <left>31</left>
      <leftRatio>0.0696629213483146</leftRatio>
      <onClick>/*
if(g5.userType==0){ 
    if(g5.readFlag==0){
       alert("请先阅读注册条款");
       return;
    }
    reg();     
}  
else { 
    if(g5.readFlag==0){
       alert("请先阅读注册条款");
       return;
    }
    regs();    
}
  */
  
  
alert("恭喜您注册成功！");</onClick>
      <sizeRatio>0.149214659685864</sizeRatio>
      <text>下一步</text>
      <top>434</top>
      <topRatio>0.531862745098039</topRatio>
      <width>382</width>
      <widthRatio>0.858426966292135</widthRatio>
    </control>
  </controls>
  <taskSet count="4">
    <taskSetItem name="getSession">
      <script1 />
      <script2>var type= session.get("userType");
eio.appendInt32(type);
</script2>
      <script3>g5.chooseType=eio.readInt32()     
if(g5.chooseType==0){
    ee.setVisible(ee.getControl("panel3"),true);   
    ee.setTextColor(ee.getControl("layoutxitem1"),"#47a9f9"); 
    g5.userType=0;  
   // ee.setVisible(ee.getControl("panel18"),true); 
}  
else {
    ee.setVisible(ee.getControl("panel5"),true);   
    ee.setTextColor(ee.getControl("layoutxitem2"),"#47a9f9"); 
    g5.userType=1; 
   // ee.setVisible(ee.getControl("panel18"),true);   
}

</script3>
    </taskSetItem>
    <taskSetItem name="reg">
      <script1><![CDATA[var password1 = ee.getEditText(ee.getControl("edit2"));
var password2 = ee.getEditText(ee.getControl("edit3"));
if (password1!=password2) {
    alert("对不起，您两次输入的密码不一致，请重新输入。");
    return;
} 
var nickName=ee.getEditText(ee.getControl("edit1"));  
console.log(nickName);
console.log(nickName.length);
//eio.appendString8(ee.getEditText(ee.getControl("edit1")));
//eio.appendString8(password1);
if (nickName.length <2) {
    alert("名字必须大于2个字符的长度");
    return;
}  
if (nickName.length >8) {
    alert("名字必须小于8个字符的长度");
    return;
}
if (password1.length<6) {
    alert("密码的长度至少要6位，请重新输入");
    return;
}  
if (password1.length>15) {
    alert("密码的长度最多15位，请重新输入");
    return;
}  
if(password1!=password2){
    alert("2次输入密码不一致");
}    
eio.appendString8(nickName);
eio.appendString8(password2);
]]></script1>
      <script2><![CDATA[var nickName = eio.readString8();
var password = eio.readString8();
var trim = function (str){ //删除左右两端的空格 
    return str.replace(/(^\s*)|(\s*$)/g, ""); 
}
nickName = trim(nickName);
password = trim(password);
//用户端输入检测
if (nickName.length<2) {
    eio.appendString8("F");
    eio.appendString8("名字必须大于2个字符的长度");
    return;
}  
if (nickName.length>8) {
    eio.appendString8("F");
    eio.appendString8("名字必须小于8个字符的长度");
    return;
}
if (password.length<6) {
    eio.appendString8("F");
    eio.appendString8("密码的长度至少要6位，请重新输入");
    return;
}  
if (password.length>15) {
    eio.appendString8("F");
    eio.appendString8("密码的长度最多15位，请重新输入");
    return;
}
//检测名字是否存在
var sql = "select * from userInfo where nickName='" + db.encode(nickName) + "' and enabled='T'";
var sqlResult = db.executeQuery("PJ", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
if (db.read(sqlResult)) {
    eio.appendString8("F");
    eio.appendString8("昵称已经存在，请换个名字");
    return;
}
//检测用户手机号是否存在
sql = "select * from userInfo where mobile = '" +
    db.encode(session.get("mobile")) + "' and enabled='T'";
sqlResult = db.executeQuery("PJ", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
if (db.read(sqlResult)) {
    eio.appendString8("F");
    eio.appendString8("您输入的手机号码已经被注册使用过，请通过密码找回的形式获得您以前注册的账号");
    return;
}
//检测前面的手机认证是否通过
if (session.get("mobileCheck")!="true") {
    eio.appendString8("F");
    eio.appendString8("您的手机没有通过认证，请返回上个页面重新进行一次手机验证码认证");
    return;
}
//创建用户
sql = "exec createUser '" + db.encode(session.get("mobile")) + "'";
es.logWarning(sql);
sqlResult = db.executeQuery("PJ", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getInt32(sqlResult, "errorCode")!=0) {
    eio.appendString8("F");
    eio.appendString8(db.getString(sqlResult, "errorString"));
    return;
}
//设置用户昵称和密码
sql = "update userInfo set " +
    "nickName = '" + db.encode(nickName) + "', " +
    "password = '" + es.getMd5(password) + "' " +
    "where mobile = '" + db.encode(session.get("mobile")) + "' and enabled='T'";
if (!db.executeNoneQuery("PJ", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}  
es.logWarning("用户注册成功：" + session.get("mobile"));
//login
sql = "exec login '" + db.encode(session.get("mobile")) + "'," +
    "'" + es.getMd5(password) + "'";
sqlResult = db.executeQuery("PJ", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getInt32(sqlResult, "errorCode")!=0) {
    eio.appendString8("F");
    es.logWarning("失败："+db.getString(sqlResult, "errorString"));
    eio.appendString8(db.getString(sqlResult, "errorString"));
    es.logWarning("用户登录失败,username=" + session.get("mobile") + ",password=" + password);
    return;
} 
eio.appendString8("T");
eio.appendString8(db.getString(sqlResult, "errorString"));
es.logCommon("用户登录：" + session.get("mobile"));
]]></script2>
      <script3>if (eio.readString8()!="T") {
    alert("注册用户失败：" + eio.readString8());
    return;
}
//获取令牌
eb.setCookie("pjToken", eio.readString8());  
window.location.href = ee.pageRoot + "/regStudentCom";

</script3>
    </taskSetItem>
    <taskSetItem name="regs">
      <script1>
var password1 = ee.getEditText(ee.getControl("edit2"));
var password2 = ee.getEditText(ee.getControl("edit3"));
if (password1!=password2) {
    alert("对不起，您两次输入的密码不一致，请重新输入。");
    return;
}
eio.appendString8(ee.getEditText(ee.getControl("edit1")));
eio.appendString8(password1);

</script1>
      <script2><![CDATA[var nickName = eio.readString8();  
var password = eio.readString8();   
var passwordMd5 = es.getMd5(password);
var trim = function (str){ //删除左右两端的空格 
    return str.replace(/(^\s*)|(\s*$)/g, ""); 
}
nickName = trim(nickName);
password = trim(password);
//用户端输入检测  
if (nickName.length<2) {
    eio.appendString8("F");
    eio.appendString8("名字必须大于2个字符的长度");
    return;
} 
if (nickName.length>8) {
    eio.appendString8("F");
    eio.appendString8("名字必须小于8个字符的长度");
    return;
}
if (password.length<6) {
    eio.appendString8("F");
    eio.appendString8("密码的长度至少要6位，请重新输入");
    return;
}
if (password.length>15) {
    eio.appendString8("F");
    eio.appendString8("密码的长度最多15位，请重新输入");
    return;
}
//检测名字是否存在
var sql = "select * from userInfo where nickName='" + db.encode(nickName) + "' and enabled='T'";
var sqlResult = db.executeQuery("PJ", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
if (db.read(sqlResult)) {
    eio.appendString8("F");
    eio.appendString8("昵称已经存在，请换个名字");
    return;
}
//检测用户手机号是否存在
sql = "select * from userInfo where mobile = '" +
    db.encode(session.get("mobile")) + "' and enabled='T'";
sqlResult = db.executeQuery("PJ", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
if (db.read(sqlResult)) {
    eio.appendString8("F");
    eio.appendString8("您输入的手机号码已经被注册使用过，请通过密码找回的形式获得您以前注册的账号");
    return;
}
//检测前面的手机认证是否通过
if (session.get("mobileCheck")!="true") {
    eio.appendString8("F");
    eio.appendString8("您的手机没有通过认证，请返回上个页面重新进行一次手机验证码认证");
    return;
}
//创建用户
sql = "exec createUser '" + db.encode(session.get("mobile")) + "'";
sqlResult = db.executeQuery("PJ", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getInt32(sqlResult, "resultCode")!=0) {
    eio.appendString8("F");
    eio.appendString8(db.getString(sqlResult, "resultString"));
    return;
}      
sql = "update userInfo set " +
    "nickName = '" + db.encode(nickName) + "', " +
    "password = '" + es.getMd5(password) + "', " +
    "userType='教练',autoStatus='NNN' where mobile = '" + db.encode(session.get("mobile")) + "' and enabled='T'";
sqlResult = db.executeQuery("PJ", sql);
//设置用户昵称和密码   
eio.appendString8("T");    

//session.set("nickName", nickName);
//session.set("password", password);

sql = "exec login '" + db.encode(session.get("mobile")) + "'," +
    "'" + passwordMd5 + "'";
sqlResult = db.executeQuery("PJ", sql);   
es.logWarning(sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getInt32(sqlResult, "errorCode")!=0) {    
    eio.appendString8("");
    eio.appendString8("F");
    eio.appendString8(db.getString(sqlResult, "errorString"));
    es.logCommon("用户登录失败,username=" + username + ",password=" + password);
    return;
}   
eio.appendString8(db.getString(sqlResult, "errorString"));//errorCode=0时 返回的是token的值
]]></script2>
      <script3>if (eio.readString8()!="T") {
    alert("注册用户失败：" + eio.readString8());
    return;
}
//获取令牌
eb.setCookie("pjToken", eio.readString8());  
window.location.href = ee.pageRoot + "/regCoachNew";

</script3>
    </taskSetItem>
    <taskSetItem name="checkName">
      <script1><![CDATA[var name = ee.getEditText(ee.getControl("edit1"));
if (name.length<=0) {
    return;
}
eio.appendString8(name);
]]></script1>
      <script2><![CDATA[var name = eio.readString8();
var trim = function (str){ //删除左右两端的空格 
    return str.replace(/(^\s*)|(\s*$)/g, ""); 
}
name = trim(name);
while (true) {
    if (name.length<2) {
        eio.appendString8("F");
        eio.appendString8("名字必须大于2个字符的长度");
        break;
    } 
    if (name.length>8) {
        eio.appendString8("F");
        eio.appendString8("名字必须小于8个字符的长度");
        break;
    }
    var sql = "select * from userInfo where nickName='" + db.encode(name) + "' and enabled='T'";
    var sqlResult = db.executeQuery("PJ", sql);
    if (sqlResult == null) {
        eio.appendString8("F");
        eio.appendString8("系统繁忙请稍后再试");
        break;
    }
    if (db.read(sqlResult)) {
        eio.appendString8("F");
        eio.appendString8("昵称已经存在，请换个名字");
        break;
    }
    eio.appendString8("T");
    break;
} 

]]></script2>
      <script3>if (eio.readString8()!="T") {
    alert("检测昵称失败：" + eio.readString8());
    return;
}
alert("恭喜您，这个名字可以使用");
 

</script3>
    </taskSetItem>
  </taskSet>
  <gridLines count="0" />
</page>