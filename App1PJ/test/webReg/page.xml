<page>
  <controls count="58">
    <control type="DivRoot" pathname="/divRoot">
      <backgroundColor>ffffff</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>816</height>
      <left>0</left>
      <onControlLoad>var isIOS = !!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);
if (!isIOS) {
    ee.getControl("layoutyitem1").heavy = 0;
}
setTimeout(function(){
    ee.autoResize = false;
},1000);
ee.setVisible(ee.getControl("panel5"),false);   

g5.userType=0;//学员  


var flag=1;
var wait=60;                               
function time(o) { 
       var mobile = ee.getEditText(ee.getControl("edit1"));
            //手机号码检测
           if (mobile.length!=11) {
               alert("对不起，您输入的不是一个有效的手机号码");
               return;
           }
           if (!(/^\d+$/.test(mobile))) {
               alert("对不起，您输入的不是一个有效的手机号码");
               return;
        }   
        if (wait == 0) {  
            ee.setVisible(ee.getControl("panel4"),false);             
            ee.getControl(o).removeAttribute("disabled");           
            ee.setText(ee.getControl(o),"获取验证码");  
            ee.setTextColor(ee.getControl(o),"rgb(71, 169, 249)") 
            wait = 60;  
            flag=1;
        } else {    
            if(flag==1){
               getSmsCode();;
            }    
            flag=0;
            ee.setVisible(ee.getControl("panel4"),true); 
            ee.getControl(o).setAttribute("disabled", true);  
            ee.setText(ee.getControl(o),"重新发送(" + wait + ")");   
            ee.setTextColor(ee.getControl(o),"rgb(181, 181, 181)")
            wait--;  
            setTimeout(function() {  
                time(o)  
            },  
            1000)  
        }  
    }  
 
ee.setOnClick(ee.getControl("layoutxitem7"),function(){time("layoutxitem7");});</onControlLoad>
      <onPageCreate>//getSession();   
var isIOS = !!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);
var oHead = document.getElementsByTagName("HEAD").item(0); 
var oScript  
/*
if (isIOS) {
    oScript = document.createElement("script"); 
    oScript.type = "text/javascript"; 
    oScript.src="cordova4/cordova.js"; 
    oHead.appendChild( oScript); 
    oScript = document.createElement("script"); 
    oScript.type = "text/javascript"; 
    oScript.src="cordova4/cordova_plugins.js"; 
    oHead.appendChild(oScript); 
} else {
    oScript = document.createElement("script"); 
    oScript.type = "text/javascript"; 
    oScript.src="cordova5/cordova.js"; 
    oHead.appendChild( oScript); 
    oScript = document.createElement("script"); 
    oScript.type = "text/javascript"; 
    oScript.src="cordova5/cordova_plugins.js"; 
    oHead.appendChild(oScript); 
}
*/</onPageCreate>
      <pageHead><![CDATA[
<meta name="viewport" content="width=device-width, minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">]]></pageHead>
      <top>0</top>
      <width>432</width>
    </control>
    <control type="LayoutY" pathname="/divRoot/layouty1">
      <dockX>fill</dockX>
      <dockY>ratio</dockY>
      <fieldCount>2</fieldCount>
      <height>90</height>
      <heightRatio>0.10989010989011</heightRatio>
      <left>0</left>
      <sizeRatio>0.200892857142857</sizeRatio>
      <top>0</top>
      <width>432</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/layouty1/layoutyitem1">
      <backgroundColor>BFCEDF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <heavy>47</heavy>
      <height>29</height>
      <heightRatio>0.322222222222222</heightRatio>
      <left>0</left>
      <sizeRatio>0.0618336886993603</sizeRatio>
      <top>0</top>
      <width>432</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/layouty1/layoutyitem2">
      <backgroundColor>47A9F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>15</fontSizeAuto>
      <height>61</height>
      <heightRatio>0.677777777777778</heightRatio>
      <left>0</left>
      <sizeRatio>0.130063965884861</sizeRatio>
      <text>注册</text>
      <top>29</top>
      <topRatio>0.322222222222222</topRatio>
      <width>432</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/layouty1/layoutyitem2/panel6">
      <backgroundImg>back.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontSizeAuto>30</fontSizeAuto>
      <height>34</height>
      <heightRatio>0.557377049180328</heightRatio>
      <left>12</left>
      <leftRatio>0.0274442538593482</leftRatio>
      <sizeRatio>0.492753623188406</sizeRatio>
      <top>13</top>
      <topRatio>0.213114754098361</topRatio>
      <width>51</width>
      <widthRatio>0.118353344768439</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/layouty1/layoutyitem2/panel7">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>57</height>
      <heightRatio>0.934426229508197</heightRatio>
      <left>1</left>
      <leftRatio>0.00269905533063428</leftRatio>
      <onClick>window.location.href = ee.pageRoot + "/login";</onClick>
      <sizeRatio>0.182108626198083</sizeRatio>
      <top>1</top>
      <topRatio>0.0163934426229508</topRatio>
      <width>182</width>
      <widthRatio>0.422402159244265</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/layoutx1">
      <dockX>fill</dockX>
      <dockY>ratio</dockY>
      <fieldCount>2</fieldCount>
      <height>80</height>
      <heightRatio>0.0976800976800977</heightRatio>
      <left>0</left>
      <sizeRatio>0.178571428571429</sizeRatio>
      <top>90</top>
      <topRatio>0.10989010989011</topRatio>
      <width>432</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/layoutx1/layoutxitem1">
      <backgroundColor>f0f0f0</backgroundColor>
      <fontColor>47A9F9</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>20</fontSizeAuto>
      <height>80</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onClick>//g5.a="a";     
ee.setVisible(ee.getControl("panel5"),false);   
ee.setTextColor(ee.getControl("layoutxitem2"),"#727272"); 
ee.setVisible(ee.getControl("panel3"),true);   
ee.setTextColor(ee.getControl("layoutxitem1"),"#47a9f9");   
g5.userType=0;

</onClick>
      <sizeRatio>0.341880341880342</sizeRatio>
      <text>用户注册</text>
      <top>0</top>
      <width>216</width>
      <widthRatio>0.498933901918977</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/layoutx1/layoutxitem1/panel1">
      <backgroundColor>E0E0E0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>1</height>
      <heightRatio>0.0125</heightRatio>
      <left>0</left>
      <sizeRatio>0.00427350427350427</sizeRatio>
      <top>79</top>
      <topRatio>0.9875</topRatio>
      <width>216</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/layoutx1/layoutxitem1/panel3">
      <backgroundColor>47A9F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>3</height>
      <heightRatio>0.0375</heightRatio>
      <left>0</left>
      <sizeRatio>0.0128205128205128</sizeRatio>
      <top>77</top>
      <topRatio>0.9625</topRatio>
      <width>216</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/layoutx1/layoutxitem2">
      <backgroundColor>d0d0d0</backgroundColor>
      <fontColor>727272</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>20</fontSizeAuto>
      <height>80</height>
      <heightRatio>1</heightRatio>
      <left>216</left>
      <leftRatio>0.498933901918977</leftRatio>
      <sizeRatio>0.340425531914894</sizeRatio>
      <top>0</top>
      <width>216</width>
      <widthRatio>0.501066098081023</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/layoutx1/layoutxitem2/panel2">
      <backgroundColor>E0E0E0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>1</height>
      <heightRatio>0.0125</heightRatio>
      <left>0</left>
      <sizeRatio>0.00425531914893617</sizeRatio>
      <top>79</top>
      <topRatio>0.9875</topRatio>
      <width>216</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/layoutx1/layoutxitem2/panel5">
      <backgroundColor>47A9F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>3</height>
      <heightRatio>0.0375</heightRatio>
      <left>0</left>
      <sizeRatio>0.0127659574468085</sizeRatio>
      <top>77</top>
      <topRatio>0.9625</topRatio>
      <width>216</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/layoutx2">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fieldCount>2</fieldCount>
      <height>44</height>
      <heightRatio>0.0537240537240537</heightRatio>
      <left>12</left>
      <leftRatio>0.0280373831775701</leftRatio>
      <sizeRatio>0.109181141439206</sizeRatio>
      <top>207</top>
      <topRatio>0.253968253968254</topRatio>
      <width>407</width>
      <widthRatio>0.941588785046729</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/layoutx2/layoutxitem3">
      <backgroundColor>f0f0f0</backgroundColor>
      <fontColor>727272</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <heavy>80</heavy>
      <height>44</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>0.360655737704918</sizeRatio>
      <text>手机号码　</text>
      <top>0</top>
      <width>112</width>
      <widthRatio>0.276018099547511</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/layoutx2/layoutxitem3/panel10">
      <backgroundColor>E0E0E0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>1</height>
      <heightRatio>0.0227272727272727</heightRatio>
      <left>0</left>
      <sizeRatio>0.00819672131147541</sizeRatio>
      <top>43</top>
      <topRatio>0.977272727272727</topRatio>
      <width>112</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/layoutx2/layoutxitem4">
      <backgroundColor>d0d0d0</backgroundColor>
      <heavy>210</heavy>
      <height>44</height>
      <heightRatio>1</heightRatio>
      <left>112</left>
      <leftRatio>0.276018099547511</leftRatio>
      <sizeRatio>0.1375</sizeRatio>
      <top>0</top>
      <width>295</width>
      <widthRatio>0.723981900452489</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/layoutx2/layoutxitem4/edit1">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>ratio</dockX>
      <dockY>fill</dockY>
      <fontColor>C7C7C7</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <height>44</height>
      <heightRatio>1</heightRatio>
      <inputFont>黑体</inputFont>
      <inputFontSize>30</inputFontSize>
      <inputFontSizeAuto>20</inputFontSizeAuto>
      <left>-1</left>
      <leftRatio>-0.00386100386100386</leftRatio>
      <sizeRatio>0.15547703180212</sizeRatio>
      <text>请输入手机号</text>
      <top>0</top>
      <width>161</width>
      <widthRatio>0.546332046332046</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/layoutx2/layoutxitem4/panel12">
      <backgroundColor>E0E0E0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>1</height>
      <heightRatio>0.0227272727272727</heightRatio>
      <left>0</left>
      <sizeRatio>0.003125</sizeRatio>
      <top>43</top>
      <topRatio>0.977272727272727</topRatio>
      <width>295</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/layoutx3">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>41</height>
      <heightRatio>0.0500610500610501</heightRatio>
      <left>12</left>
      <leftRatio>0.0280373831775701</leftRatio>
      <sizeRatio>0.101736972704715</sizeRatio>
      <top>288</top>
      <topRatio>0.352869352869353</topRatio>
      <width>407</width>
      <widthRatio>0.941588785046729</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/layoutx3/layoutxitem5">
      <backgroundColor>f0f0f0</backgroundColor>
      <fontColor>727272</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <heavy>150</heavy>
      <height>41</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>0.328</sizeRatio>
      <text>短信验证码</text>
      <top>0</top>
      <width>115</width>
      <widthRatio>0.282805429864253</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/layoutx3/layoutxitem5/panel13">
      <backgroundColor>E0E0E0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>1</height>
      <heightRatio>0.024390243902439</heightRatio>
      <left>0</left>
      <sizeRatio>0.008</sizeRatio>
      <top>40</top>
      <topRatio>0.975609756097561</topRatio>
      <width>115</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/layoutx3/layoutxitem6">
      <backgroundColor>d0d0d0</backgroundColor>
      <heavy>200</heavy>
      <height>41</height>
      <heightRatio>1</heightRatio>
      <left>115</left>
      <leftRatio>0.282805429864253</leftRatio>
      <sizeRatio>0.245508982035928</sizeRatio>
      <top>0</top>
      <width>154</width>
      <widthRatio>0.377828054298643</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/layoutx3/layoutxitem6/edit2">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>C7C7C7</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <height>41</height>
      <heightRatio>1</heightRatio>
      <inputFont>黑体</inputFont>
      <inputFontSize>30</inputFontSize>
      <inputFontSizeAuto>20</inputFontSizeAuto>
      <left>0</left>
      <sizeRatio>0.245508982035928</sizeRatio>
      <text>请输入验证码</text>
      <top>0</top>
      <width>154</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/layoutx3/layoutxitem6/panel14">
      <backgroundColor>E0E0E0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>1</height>
      <heightRatio>0.024390243902439</heightRatio>
      <left>0</left>
      <sizeRatio>0.00598802395209581</sizeRatio>
      <top>40</top>
      <topRatio>0.975609756097561</topRatio>
      <width>154</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/layoutx3/layoutxitem7">
      <backgroundColor>f0f0f0</backgroundColor>
      <fontColor>47A9F9</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>right</hAlign>
      <heavy>180</heavy>
      <height>41</height>
      <heightRatio>1</heightRatio>
      <left>269</left>
      <leftRatio>0.660633484162896</leftRatio>
      <sizeRatio>0.273333333333333</sizeRatio>
      <text>获取验证码</text>
      <top>0</top>
      <width>138</width>
      <widthRatio>0.339366515837104</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/layoutx3/layoutxitem7/panel16">
      <backgroundColor>E0E0E0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>1</height>
      <heightRatio>0.024390243902439</heightRatio>
      <left>0</left>
      <sizeRatio>0.00666666666666667</sizeRatio>
      <top>40</top>
      <topRatio>0.975609756097561</topRatio>
      <width>138</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel9">
      <backgroundImg>btn.png</backgroundImg>
      <cursor>pointer</cursor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontSizeAuto>20</fontSizeAuto>
      <height>57</height>
      <heightRatio>0.0698529411764706</heightRatio>
      <left>31</left>
      <leftRatio>0.0717592592592593</leftRatio>
      <onClick>checkSmsCode();

   /*   
var money = "0.01";
var s = "";
s = "您将进入支付系统支付￥"+money;  
ee.setText(ee.getControl("panel50"),s); 
ee.setVisible(ee.getControl("panel43"),true);

      */

</onClick>
      <sizeRatio>0.153638814016173</sizeRatio>
      <text>下一步</text>
      <top>436</top>
      <topRatio>0.534313725490196</topRatio>
      <width>371</width>
      <widthRatio>0.858796296296296</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel11">
      <backgroundColor>E0E0E0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>1</height>
      <heightRatio>0.00122549019607843</heightRatio>
      <left>0</left>
      <sizeRatio>0.00213219616204691</sizeRatio>
      <top>815</top>
      <topRatio>0.998774509803922</topRatio>
      <width>432</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel15">
      <backgroundColor>E0E0E0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>1</height>
      <heightRatio>0.00122549019607843</heightRatio>
      <left>0</left>
      <sizeRatio>0.00213219616204691</sizeRatio>
      <top>815</top>
      <topRatio>0.998774509803922</topRatio>
      <width>432</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel8">
      <dockX>fill</dockX>
      <dockY>ratio</dockY>
      <fontColor>C7C7C7</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <height>54</height>
      <heightRatio>0.0659340659340659</heightRatio>
      <left>0</left>
      <sizeRatio>0.0711462450592885</sizeRatio>
      <text>输入手机号码，以后将以此号码登录系统</text>
      <top>360</top>
      <topRatio>0.440781440781441</topRatio>
      <width>432</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel4">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>76</height>
      <heightRatio>0.0931372549019608</heightRatio>
      <layerName>遮罩</layerName>
      <layerVisible>false</layerVisible>
      <left>299</left>
      <leftRatio>0.692963752665245</leftRatio>
      <onClick>
alert(1);
getSmsCode();</onClick>
      <sizeRatio>0.542857142857143</sizeRatio>
      <top>250</top>
      <topRatio>0.306372549019608</topRatio>
      <width>129</width>
      <widthRatio>0.298507462686567</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel17">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>816</height>
      <heightRatio>1</heightRatio>
      <layerName>学员确认申请教练 登录panel</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>1.73987206823028</sizeRatio>
      <top>0</top>
      <width>432</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutY" pathname="/divRoot/panel17/layouty2">
      <dockX>fill</dockX>
      <dockY>ratio</dockY>
      <fieldCount>2</fieldCount>
      <height>90</height>
      <heightRatio>0.110294117647059</heightRatio>
      <left>0</left>
      <sizeRatio>0.206896551724138</sizeRatio>
      <top>0</top>
      <width>432</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel17/layouty2/layoutyitem3">
      <backgroundColor>BFCEDF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <heavy>47</heavy>
      <height>29</height>
      <heightRatio>0.322222222222222</heightRatio>
      <left>0</left>
      <sizeRatio>0.0618336886993603</sizeRatio>
      <top>0</top>
      <width>432</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel17/layouty2/layoutyitem4">
      <backgroundColor>47A9F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>15</fontSizeAuto>
      <height>61</height>
      <heightRatio>0.677777777777778</heightRatio>
      <left>0</left>
      <sizeRatio>0.130063965884861</sizeRatio>
      <text>登录</text>
      <top>29</top>
      <topRatio>0.322222222222222</topRatio>
      <width>432</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel17/layouty2/layoutyitem4/panel89">
      <backgroundImg>back.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontSizeAuto>30</fontSizeAuto>
      <height>34</height>
      <heightRatio>0.557377049180328</heightRatio>
      <left>12</left>
      <leftRatio>0.0274442538593482</leftRatio>
      <sizeRatio>0.492753623188406</sizeRatio>
      <top>13</top>
      <topRatio>0.213114754098361</topRatio>
      <width>51</width>
      <widthRatio>0.118353344768439</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel17/layouty2/layoutyitem4/panel90">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>57</height>
      <heightRatio>0.934426229508197</heightRatio>
      <left>1</left>
      <leftRatio>0.00258397932816537</leftRatio>
      <onClick>ee.setVisible(ee.getControl("panel17"),false);
</onClick>
      <sizeRatio>0.360759493670886</sizeRatio>
      <top>1</top>
      <topRatio>0.0163934426229508</topRatio>
      <width>176</width>
      <widthRatio>0.408268733850129</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel17/panel18">
      <aniAlpha>whiteAlpha:白色淡出</aniAlpha>
      <aniPos>topFlyIn:顶部飞入</aniPos>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontColor>FFFFFF</fontColor>
      <fontSizeAuto>20</fontSizeAuto>
      <height>274</height>
      <heightRatio>0.33578431372549</heightRatio>
      <left>0</left>
      <sizeRatio>0.629885057471264</sizeRatio>
      <top>131</top>
      <topRatio>0.160539215686275</topRatio>
      <width>432</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel17/panel18/panel19">
      <backgroundColor>00C0C0</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontColor>5F5F5F</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>20</fontSizeAuto>
      <height>65</height>
      <heightRatio>0.237226277372263</heightRatio>
      <left>54</left>
      <leftRatio>0.125244618395303</leftRatio>
      <sizeRatio>0.670103092783505</sizeRatio>
      <text>手机号</text>
      <top>71</top>
      <topRatio>0.259124087591241</topRatio>
      <width>82</width>
      <widthRatio>0.189823874755382</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel17/panel18/edit3">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontColor>C7C7C7</fontColor>
      <fontSizeAuto>22</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>58</height>
      <heightRatio>0.211678832116788</heightRatio>
      <inputFont>黑体</inputFont>
      <inputFontSizeAuto>20</inputFontSizeAuto>
      <left>144</left>
      <leftRatio>0.332681017612524</leftRatio>
      <sizeRatio>0.242677824267782</sizeRatio>
      <text>请输入手机号</text>
      <top>74</top>
      <topRatio>0.27007299270073</topRatio>
      <width>202</width>
      <widthRatio>0.467710371819961</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel17/panel18/edit4">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontColor>C7C7C7</fontColor>
      <fontSizeAuto>22</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>53</height>
      <heightRatio>0.192727272727273</heightRatio>
      <inputFont>黑体</inputFont>
      <inputFontSizeAuto>20</inputFontSizeAuto>
      <inputPassword>true</inputPassword>
      <left>144</left>
      <leftRatio>0.332533013205282</leftRatio>
      <sizeRatio>0.144021739130435</sizeRatio>
      <text>请输入密码</text>
      <top>184</top>
      <topRatio>0.672727272727273</topRatio>
      <width>191</width>
      <widthRatio>0.441776710684274</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel17/panel18/panel20">
      <backgroundColor>00C0C0</backgroundColor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontColor>5F5F5F</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>20</fontSizeAuto>
      <height>65</height>
      <heightRatio>0.236363636363636</heightRatio>
      <left>54</left>
      <leftRatio>0.1252408477842</leftRatio>
      <sizeRatio>0.844155844155844</sizeRatio>
      <text>密码</text>
      <top>178</top>
      <topRatio>0.650909090909091</topRatio>
      <width>64</width>
      <widthRatio>0.148362235067437</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel17/panel18/panel21">
      <aniDelay>300</aniDelay>
      <aniPos>bottomBonus:底部落入</aniPos>
      <backgroundColor>FFFFFF</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontColor>47A9F9</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>30</fontSizeAuto>
      <hAlign>right</hAlign>
      <height>47</height>
      <heightRatio>0.172897196261682</heightRatio>
      <left>335</left>
      <leftRatio>0.775725593667546</leftRatio>
      <onClick>pwdSession();

 </onClick>
      <sizeRatio>0.493333333333333</sizeRatio>
      <text>忘记密码？</text>
      <top>187</top>
      <topRatio>0.682242990654206</topRatio>
      <width>85</width>
      <widthRatio>0.197889182058047</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel17/panel18/panel22">
      <backgroundImg>mobile@2x.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>37</height>
      <heightRatio>0.134545454545455</heightRatio>
      <left>26</left>
      <leftRatio>0.0597302504816956</leftRatio>
      <sizeRatio>0.925</sizeRatio>
      <top>79</top>
      <topRatio>0.287272727272727</topRatio>
      <width>33</width>
      <widthRatio>0.0770712909441233</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel17/panel18/panel23">
      <backgroundImg>password@2x.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>37</height>
      <heightRatio>0.134545454545455</heightRatio>
      <left>26</left>
      <leftRatio>0.0597302504816956</leftRatio>
      <sizeRatio>0.925</sizeRatio>
      <top>185</top>
      <topRatio>0.676363636363636</topRatio>
      <width>33</width>
      <widthRatio>0.0770712909441233</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel17/panel18/panel24">
      <alpha>0.5</alpha>
      <backgroundColor>C0C0C0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>2</height>
      <heightRatio>0.00727272727272727</heightRatio>
      <left>20</left>
      <leftRatio>0.0453514739229025</leftRatio>
      <outerLeft>20</outerLeft>
      <outerRight>20</outerRight>
      <sizeRatio>0.00498753117206983</sizeRatio>
      <top>243</top>
      <topRatio>0.887272727272727</topRatio>
      <width>393</width>
      <widthRatio>0.909297052154195</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel17/panel18/panel25">
      <alpha>0.5</alpha>
      <backgroundColor>C0C0C0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>2</height>
      <heightRatio>0.00727272727272727</heightRatio>
      <left>20</left>
      <leftRatio>0.0453514739229025</leftRatio>
      <outerLeft>20</outerLeft>
      <outerRight>20</outerRight>
      <sizeRatio>0.00498753117206983</sizeRatio>
      <top>137</top>
      <topRatio>0.498181818181818</topRatio>
      <width>393</width>
      <widthRatio>0.909297052154195</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel17/panel26">
      <aniPos>bottomBonus:底部落入</aniPos>
      <backgroundColor>47A9F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>20</fontSizeAuto>
      <height>67</height>
      <heightRatio>0.0821078431372549</heightRatio>
      <left>19</left>
      <leftRatio>0.0436781609195402</leftRatio>
      <onClick>//alert(ee.getEditText(ee.getControl("edit1")))
login();</onClick>
      <sizeRatio>0.173575129533679</sizeRatio>
      <text>登 录</text>
      <top>458</top>
      <topRatio>0.561274509803922</topRatio>
      <width>383</width>
      <widthRatio>0.88735632183908</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel43">
      <aniAlpha>whiteAlpha:白色淡出</aniAlpha>
      <backgroundColor>000000</backgroundColor>
      <backgroundImg>dialogMask.png</backgroundImg>
      <backgroundImgMode>stretch</backgroundImgMode>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>816</height>
      <heightRatio>1</heightRatio>
      <layerName>确认充值</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>1.88888888888889</sizeRatio>
      <top>0</top>
      <width>432</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel43/panel28">
      <backgroundSkin>button3a000</backgroundSkin>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontColor>FFFFFF</fontColor>
      <fontSizeAuto>20</fontSizeAuto>
      <height>441</height>
      <heightRatio>0.540903540903541</heightRatio>
      <left>43</left>
      <leftRatio>0.0990990990990991</leftRatio>
      <sizeRatio>0.467299578059072</sizeRatio>
      <top>152</top>
      <topRatio>0.186813186813187</topRatio>
      <width>335</width>
      <widthRatio>0.776412776412776</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel43/panel28/panel32">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontBold>true</fontBold>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>30</fontSizeAuto>
      <height>57</height>
      <heightRatio>0.128668171557562</heightRatio>
      <left>9</left>
      <leftRatio>0.0270618556701031</leftRatio>
      <sizeRatio>0.0785123966942149</sizeRatio>
      <text>充值确认</text>
      <top>64</top>
      <topRatio>0.144469525959368</topRatio>
      <width>313</width>
      <widthRatio>0.935567010309278</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel43/panel28/panel47">
      <backgroundSkin>button3000</backgroundSkin>
      <cursor>pointer</cursor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <height>33</height>
      <heightRatio>0.0748299319727891</heightRatio>
      <left>76</left>
      <leftRatio>0.226865671641791</leftRatio>
      <onClick>ee.setVisible(ee.getControl("panel43"), false);</onClick>
      <sizeRatio>0.180327868852459</sizeRatio>
      <text>关 闭</text>
      <top>373</top>
      <topRatio>0.845804988662132</topRatio>
      <width>183</width>
      <widthRatio>0.546268656716418</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel43/panel28/panel29">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontBold>true</fontBold>
      <fontColor>48A1DD</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>30</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>47</height>
      <heightRatio>0.106094808126411</heightRatio>
      <left>15</left>
      <leftRatio>0.0438144329896907</leftRatio>
      <sizeRatio>0.254054054054054</sizeRatio>
      <text>确认充值</text>
      <top>10</top>
      <topRatio>0.0225733634311512</topRatio>
      <width>80</width>
      <widthRatio>0.23840206185567</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel43/panel28/panel30">
      <backgroundColor>48A1DD</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>2</height>
      <heightRatio>0.0050125313283208</heightRatio>
      <left>14</left>
      <leftRatio>0.040650406504065</leftRatio>
      <sizeRatio>0.0044543429844098</sizeRatio>
      <top>52</top>
      <topRatio>0.117794486215539</topRatio>
      <width>306</width>
      <widthRatio>0.91260162601626</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel43/panel28/panel50">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontColor>404040</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>30</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>123</height>
      <heightRatio>0.279909706546275</heightRatio>
      <left>43</left>
      <leftRatio>0.128865979381443</leftRatio>
      <sizeRatio>0.221033868092692</sizeRatio>
      <text>用户信息：</text>
      <top>114</top>
      <topRatio>0.259593679458239</topRatio>
      <vAlign>top</vAlign>
      <width>242</width>
      <widthRatio>0.722938144329897</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel43/panel28/panel31">
      <backgroundSkin>button3</backgroundSkin>
      <cursor>pointer</cursor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <height>33</height>
      <heightRatio>0.0748299319727891</heightRatio>
      <left>76</left>
      <leftRatio>0.226865671641791</leftRatio>
      <onClick>//alert(money)     
//payNews();
window.location.href = ee.pageRoot + "/student/sMain";
</onClick>
      <sizeRatio>0.180327868852459</sizeRatio>
      <text>充值完成</text>
      <top>325</top>
      <topRatio>0.736961451247166</topRatio>
      <width>183</width>
      <widthRatio>0.546268656716418</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel43/panel28/panel33">
      <backgroundSkin>button3</backgroundSkin>
      <cursor>pointer</cursor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <height>33</height>
      <heightRatio>0.0748299319727891</heightRatio>
      <left>76</left>
      <leftRatio>0.226865671641791</leftRatio>
      <onClick>createOrder(); //产生订单</onClick>
      <sizeRatio>0.180327868852459</sizeRatio>
      <text>去微信充值</text>
      <top>277</top>
      <topRatio>0.6281179138322</topRatio>
      <width>183</width>
      <widthRatio>0.546268656716418</widthRatio>
    </control>
  </controls>
  <taskSet count="5">
    <taskSetItem name="getSmsCode">
      <script1>var mobile = ee.getEditText(ee.getControl("edit1"));
//手机号码检测
if (mobile.length!=11) {
    alert("对不起，您输入的不是一个有效的手机号码");
    return;
}
if (!(/^\d+$/.test(mobile))) {
    alert("对不起，您输入的不是一个有效的手机号码");
    return;
} 

eio.appendString8(mobile); 
eio.appendInt32(g5.userType)
</script1>
      <script2><![CDATA[var mobile = eio.readString8();
var chooseType = eio.readInt32(); 

session.set("codeFlag11",0);//使用于checkSmsCode
while (true) { 
    var sql = "select * from userInfo where mobile='" + mobile + "' and enabled='T'";
    var sqlResult = db.executeQuery("PJ", sql);  
   
    if (db.read(sqlResult)) {
        eio.appendString8("F");
        var userType = db.getString(sqlResult,"userType");
        if(userType =="教练" || chooseType=="0"){
            eio.appendString8("您输入的手机号码已经被注册使用过，不能参与此次活动。"); 
        } else if(userType == "学员") {
            eio.appendString8("applyCoaches")
        } else {
            eio.appendString8("判断失败");
        }
        return;
    }
    //后台手机号验证
    if (mobile.length!=11) {
        eio.appendString8("F");
        eio.appendString8("手机号非法");
        break;
    }
    if (!(/^1[3|4|5|7|8][0-9]\d{4,8}$/.test(mobile))) {
        eio.appendString8("F");
        eio.appendString8("手机号非法");
        break;
    }
    //产生验证码
    var code = 0;
    var seed = (new Date()).getTime();
    while (code<1000) {
        seed = ( seed * 9301 + 49297 ) % 233280;
        var rand = seed / 233280.0;
        code = Math.floor(rand * 1000000);     //六位
    } 
    
    //存储验证码和手机号
    session.set("mobileCode", code + "");
    session.set("mobile", mobile);  
    
    //发送验证码
    var sql = "insert into sms (mobile, message) values (" +
        "'" + db.encode(mobile) + "'," +
        "'您的验证码是：" + code + "')";
    if (!db.executeNoneQuery("PJ", sql)) {
        eio.appendString8("F");
        eio.appendString8("系统繁忙请稍后再试");
        break;
    } 
    eio.appendString8("T"); 
    break;
}     

              ]]></script2>
      <script3>if (eio.readString8()!="T") {
    var code = eio.readString8();
    console.log("code="+code);
    if (code.length ==12 &amp;&amp; g5.userType== "1"){
        var a = confirm("您已有学员端账户，是否要申请成为陪练员？")  
        if (a== true){
            ee.setVisible(ee.getControl("panel17"),true);
            ee.setEditText(ee.getControl("edit3"),ee.getEditText(ee.getControl("edit1")));
        }else {
            return;
        }
    } else {
        alert("发送验证码失败：" + code);
    }
    return;
}   

alert("验证码已经以短信的形式发送到您的手机上，请注意查收。验证码是一个6位的数字，请将它填写在下面的栏目中");

</script3>
    </taskSetItem>
    <taskSetItem name="checkSmsCode">
      <script1>var mobileCode = ee.getEditText(ee.getControl("edit2")); 
 

eio.appendString8(mobileCode);  
eio.appendInt32(g5.userType);
</script1>
      <script2><![CDATA[var mobileCode = eio.readString8();  
var userType = eio.readInt32();
while (true) {
    var mobileCodeS = session.get("mobileCode");
    if (mobileCodeS.length<=0) {
        //eio.appendString8("tt1");//debug
        //eio.appendString8("tt2");//debug         
        eio.appendString8("F");
        eio.appendString8("请点击“获取验证码”，收到短信后填写验证码");
        break;
    } 
     /*
    if (mobileCodeS!=mobileCode) {
        session.set("mobileCode", "");
        eio.appendString8("F");
        eio.appendString8("您输入的验证码不正确，请重新发送并输入一次验证码");
        break;
    }     */
    
    if(mobileCodeS!=mobileCode){
        var flag = session.get("codeFlag11"); 
       //  eio.appendString8("flag::"+flag);
        flag = parseInt(flag)+1;
       // flag +=1;  
       //  eio.appendString8("flag++::"+flag);
        session.set("codeFlag11",flag);
        eio.appendString8("F");
        if(flag ==1){
           eio.appendString8("输入的验证码不正确，您还有 2 次机会重新输入验证码");
        }else if(flag ==2){
           eio.appendString8("输入的验证码不正确，您还有 1 次机会重新输入验证码");
        }else if(flag ==3){
            session.set("codeFlag11",0);           
            session.set("mobileCode",""); 
            eio.appendString8("您输入的验证码不正确，请重新获取并输入验证码");
        }
        break;
        
    } 
    
   // eio.appendString8("tt1");
   // eio.appendString8("tt2");
     session.set("codeFlag11",0);
    eio.appendString8("T");
    session.set("mobileCheck", "true"); 
    session.set("userType",userType);
    session.set("mobileCode","");
    //var a= session.get("userType")  
    //es.logWarning(a);  
    //es.logWarning(userType);
    //eio.appendString8(session.get("userType"));
    break;
} 


]]></script2>
      <script3>//alert(eio.readString8());
//alert(eio.readString8());
if (eio.readString8()!="T") {
    alert("验证失败：" + eio.readString8());     
    //alert(session.get("userType"))
    ee.setEditText(ee.getControl("Edit2"),"");
    return;
}  

var money = "99";
var s = "";
s = "您将进入支付系统支付￥"+money;  
ee.setText(ee.getControl("panel50"),s); 
ee.setVisible(ee.getControl("panel43"),true); 




 
</script3>
    </taskSetItem>
    <taskSetItem name="sessionMobile">
      <script1>var mobile = ee.getEditText(ee.getControl("edit1")); 
 
eio.appendString8(mobile); 
 
</script1>
      <script2>var mobile = eio.readString8();
session.set("mobile",mobile);
</script2>
      <script3 />
    </taskSetItem>
    <taskSetItem name="pay">
      <script1>
eio.appendString8(ee.getEditText(ee.getControl("edit1"))); 
eio.appendString8(ee.getEditText(ee.getControl("edit2")));

</script1>
      <script2>var mobile = eio.readString8();  
var password = eio.readString8();   
var passwordMd5 = es.getMd5(password);

var trim = function (str){ //删除左右两端的空格 
    return str.replace(/(^\s*)|(\s*$)/g, ""); 
}
mobile = trim(mobile);
password = trim(password);


/*
合作者身份ID：  2088021117176475
收款支付宝账号：2088021117176475
商户私钥：MIICdQIBADANBgkqhkiG9w0BAQEFAASCAl8wggJbAgEAAoGBANnl98xj15FcCWsrCMjiQm89xfuF6et58vYTxhx3sHzx+Exx4i+0fK2A/4W0XWhHDo9nOh1zu3Q44F8UwvOHPjybpXPMcXauH49vtZh1Nmai0ZkkLWMBxp66NJRE2FbAQDAJqVm8jETLgSgHtC7H9g6djDjQocbmEF2G6MF2HYfjAgMBAAECgYAfVGh3s9dX6CLWjN57e8TPl9MyogOLPwKHDTrL9w2iOWxZGXrLHylaDRUwVUmk56qZRd9eQriuMktYgHSzbTuuWSyCRtRYk2BXXleKBBFO6h5QhIoyM/Cwjfv3wxjcmwD0cSd59uwu7OROrUrxFsoqQ5ZaSfhxqnndwkf2yzwqwQJBAPrDK1nmUQxn8nPFE/WtVAH9pfYIjwD6/Wu0FAN6aOkGlY+1Z5cbJimhXYV5P0f+07zZLJ9kJ65gehY28LV9jKECQQDecxLrCr33wlnxdJHEQrWRVhC3IWl5savwIoIS5Lcn86l4TEOxRPMGvbUcjWfp8ISk9+TDb8h8u4l1DIaiR6IDAkAtE8qGNZ3aMhFmeEX3Qvo4BWXBDZbPYU8O/mcenPGg+hsGo2CEzE+W6jgKl1ol0gw0BYI9AN8VPKiVt7ibl38hAkA3vLOfywhAXSU2N9QSTfi6mssDZ87K3DbNq4fV/hLaYtYyu0E22KTgKoaHyfKgjlBeGXLreUXN4xuVBXdyj+pLAkAGIbGy8OerUxRakzWa+kC86MX16KZj4T5ivM2q/2qEqcKJ99IngpgWARotD676ifdxvKp5/CX1T/bfVnDPa3G9
支付宝公钥：MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCnxj/9qwVfgoUh/y2W89L6BkRAFljhNhgPdyPuBV64bfQNN1PjbCzkIM6qRdKBoLPXmKKMiFYnkd6rAoprih3/PrQEB/VsW8OoM8fxn67UDYuyBTqA23MML9q1+ilIZwBC2AQ2UBVOrFXfFl75p6/B5KsiNG9zpgmLCUYuLkxpLQIDAQAB
签名方式：RSA
支付宝消息验证地址：https://mapi.alipay.com/gateway.do?service=notify_verify
支付宝提供给商户的服务接入网关URL：https://mapi.alipay.com/gateway.do
md5秘钥kj9othli5f3o0pjubgycbz8u7ggdu3du

//回叫地址参数截取
https://www.baidu.com/?
is_success=T
&amp;notify_id=RqPnCoPT3K9%252Fvwbh3InUFZVR%252BaRqPyDOCO0dds4OkrpZi3wZtEPr4cYvlwiONKA4i2uv
&amp;notify_time=2016-01-21+14%3A58%3A57
&amp;notify_type=trade_status_sync
&amp;out_trade_no=112233445566
&amp;payment_type=1
&amp;seller_id=2088021117176475
&amp;service=alipay.wap.create.direct.pay.by.user
&amp;subject=1%E9%99%AA%E9%A9%BE%E5%85%85%E5%80%BC
&amp;total_fee=0.01
&amp;trade_no=2016012121001004180040512062
&amp;trade_status=TRADE_SUCCESS
&amp;sign=dec35ea571ef002525a4f8080cefae20
&amp;sign_type=MD5
//充值成功回调
payment_type=1
&amp;subject=1%u966a%u9a7e%u5145%u503c
&amp;trade_no=2016012121001004180033798750
&amp;buyer_email=tam3000%40163.com
&amp;gmt_create=2016-01-21+19%3a25%3a29
&amp;notify_type=trade_status_sync
&amp;quantity=1
&amp;out_trade_no=112233445573
&amp;notify_time=2016-01-21+19%3a25%3a30
&amp;seller_id=2088021117176475
&amp;trade_status=TRADE_SUCCESS
&amp;is_total_fee_adjust=N
&amp;total_fee=0.01
&amp;gmt_payment=2016-01-21+19%3a25%3a30
&amp;seller_email=mosquito%401peijia.com
&amp;price=0.01
&amp;buyer_id=2088002167604181
&amp;notify_id=a02fe26a8bab82594f7625223c94473he0
&amp;use_coupon=N
&amp;sign_type=MD5
&amp;sign=6266f08c80899c19d41708582eebfdbe
*/
//var token = eio.readString8();
//var payIndex = eio.readInt32();
var sql,sqlResult;

var money = "0.01"//.split(",");

sql = "exec webCreatePay '支付宝'," +money+",'"+mobile+"','"+password+"'";
es.logWarning(sql);       
    
sqlResult = db.executeQuery("PJ", sql); 
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
var localTicket = db.getString(sqlResult, "ticket");  
es.logWarning(localTicket);
//es.logWarning(sql);
//产生支付url
var url = "https://mapi.alipay.com/gateway.do";
var key = "";
key += "_input_charset=utf-8";
key += "&amp;notify_url=http://m.1peijia.com:88/EEngine/ee.aspx";
key += "&amp;out_trade_no=" + localTicket;
key += "&amp;partner=2088021117176475";
key += "&amp;payment_type=1";
key += "&amp;return_url=http://m.1peijia.com:88/EEngine/ee.aspx";
key += "&amp;seller_id=2088021117176475";
key += "&amp;service=alipay.wap.create.direct.pay.by.user";
key += "&amp;subject=1陪驾充值" ;
key += "&amp;total_fee=" + money;

var sign = "";
sign += "&amp;sign=" + es.getMd5(key + "kj9othli5f3o0pjubgycbz8u7ggdu3du").toLowerCase();
sign += "&amp;sign_type=MD5";  


url = url + "?" + es.urlEncodeHz(key) + sign;
es.logWarning(url);

eio.appendString8("T");
eio.appendString16(url);
eio.appendString16(money);
//eio.appendString16(moneyFree[payIndex]);
//eio.appendInt32(count);   //充值记录有无
//es.logWarning("adasdsadsddasd");
es.logWarning("scscs");
</script2>
      <script3><![CDATA[if (eio.readString8()!="T") {
    alert("暂时无法进行充值："+eio.readString8());
    return;
}
var url = eio.readString16();
var money = eio.readString16();
//var moneyFree = eio.readString16();
//var count = eio.readInt32();
//window.open(url);
//window.open(encodeURI(url), '_blank', 'location=yes');
g5.payMoney=money;   
var s = "";
s = "您将进入支付系统支付￥"+money;
/*if (moneyFree!="0") {
    s += ",充值完成您将获得我们赠予的￥"+moneyFree+"积分奖励";    
} 

if(count<1){
    s += ",首次充值将获得额外的200积分奖励";
} */    

ee.setText(ee.getControl("panel50"),s);     
$g("linkAlipay").href = url;
//ee.showAni(ee.getControl("panel43"));
  
ee.setVisible(ee.getControl("panel43"),true); 

]]></script3>
    </taskSetItem>
    <taskSetItem name="createOrder">
      <script1>eio.appendString8(ee.getEditText(ee.getControl("edit1"))); 
eio.appendString8(ee.getEditText(ee.getControl("edit2")));</script1>
      <script2>var mobile = eio.readString8();  
var password = eio.readString8();   
var passwordMd5 = es.getMd5(password); 

var sql,sqlResult;

var money = "0.01"//.split(",");

sql = "exec webCreatePay 'web微信支付请求'," +money+",'"+mobile+"','"+password+"'";
es.logWarning(sql);       
    
sqlResult = db.executeQuery("PJ", sql); 
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
var localTicket = db.getString(sqlResult, "ticket");  
es.logWarning(localTicket); 

session.set("localTicket",localTicket);   
es.logWarning("localTicketPro="+localTicket);
eio.appendString8("T");    
eio.appendString8(localTicket);</script2>
      <script3>var c = eio.readString8();

if (c != "T"){
    alert("产生订单出错。");
    return;
}  
var localTicket = eio.readString8();
eb.setCookie("localTicket",localTicket)

//获取用户登录code
window.location.href =ee.pageRoot + "/test/testWX";
//window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxeeb9b2f6e1f01d23&amp;response_type=code&amp;redirect_uri=http%3A%2F%2Fm.1peijia.com%2Feengine%2Fee.aspx&amp;scope=snsapi_base&amp;state=STATE#wechat_redirect";</script3>
    </taskSetItem>
  </taskSet>
  <gridLines count="0" />
</page>