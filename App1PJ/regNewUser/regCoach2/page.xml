<page>
  <controls count="20">
    <control type="DivRoot" pathname="/divRoot">
      <left>0</left>
      <top>0</top>
      <width>582</width>
      <height>819</height>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <backgroundColor>F3F3F3</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <onControlLoad>var isIOS = !!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);
if (!isIOS) {
    ee.getControl("layoutyitem1").heavy = 0;
}
setTimeout(function(){
    ee.autoResize = false;
},1000);
</onControlLoad>
      <pageHead><![CDATA[<meta name="viewport" content="width=device-width, minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
]]></pageHead>
    </control>
    <control type="Panel" pathname="/divRoot/panel3">
      <left>9</left>
      <top>192</top>
      <width>563</width>
      <height>475</height>
      <leftRatio>0.0151843817787419</leftRatio>
      <topRatio>0.234432234432234</topRatio>
      <widthRatio>0.967462039045553</widthRatio>
      <heightRatio>0.57997557997558</heightRatio>
      <sizeRatio>1.06502242152466</sizeRatio>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundSkin>body5</backgroundSkin>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel3/layoutx1">
      <left>67</left>
      <top>156</top>
      <width>444</width>
      <height>41</height>
      <leftRatio>0.118834080717489</leftRatio>
      <topRatio>0.328421052631579</topRatio>
      <widthRatio>0.789237668161435</widthRatio>
      <heightRatio>0.0863157894736842</heightRatio>
      <sizeRatio>0.116477272727273</sizeRatio>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fieldCount>2</fieldCount>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel3/layoutx1/layoutxitem1">
      <left>0</left>
      <top>0</top>
      <width>115</width>
      <height>41</height>
      <widthRatio>0.259194395796848</widthRatio>
      <heightRatio>1</heightRatio>
      <sizeRatio>0.277027027027027</sizeRatio>
      <backgroundColor>f0f0f0</backgroundColor>
      <text>手机号码　</text>
      <fontSizeAuto>30</fontSizeAuto>
      <hAlign>right</hAlign>
      <heavy>70</heavy>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel3/layoutx1/layoutxitem2">
      <left>115</left>
      <top>0</top>
      <width>329</width>
      <height>41</height>
      <leftRatio>0.259194395796848</leftRatio>
      <widthRatio>0.740805604203152</widthRatio>
      <heightRatio>1</heightRatio>
      <sizeRatio>0.0969267139479905</sizeRatio>
      <backgroundColor>d0d0d0</backgroundColor>
      <heavy>200</heavy>
    </control>
    <control type="Edit" pathname="/divRoot/panel3/layoutx1/layoutxitem2/edit1">
      <left>0</left>
      <top>0</top>
      <width>329</width>
      <height>41</height>
      <widthRatio>1</widthRatio>
      <heightRatio>1</heightRatio>
      <sizeRatio>0.0969267139479905</sizeRatio>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <backgroundSkin>edit1</backgroundSkin>
      <inputFontSize>30</inputFontSize>
      <inputFontSizeAuto>30</inputFontSizeAuto>
    </control>
    <control type="Panel" pathname="/divRoot/panel3/panel5">
      <left>182</left>
      <top>220</top>
      <width>216</width>
      <height>42</height>
      <leftRatio>0.322869955156951</leftRatio>
      <topRatio>0.463157894736842</topRatio>
      <widthRatio>0.383408071748879</widthRatio>
      <heightRatio>0.0884210526315789</heightRatio>
      <sizeRatio>0.245614035087719</sizeRatio>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <backgroundSkin>button3</backgroundSkin>
      <text>获取验证码</text>
      <fontSizeAuto>30</fontSizeAuto>
      <fontColor>FFFFFF</fontColor>
      <cursor>pointer</cursor>
      <onClick>getSmsCode();</onClick>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel3/layoutx2">
      <left>65</left>
      <top>327</top>
      <width>445</width>
      <height>41</height>
      <leftRatio>0.116182572614108</leftRatio>
      <topRatio>0.687763713080169</topRatio>
      <widthRatio>0.791147994467497</widthRatio>
      <heightRatio>0.0864978902953586</heightRatio>
      <sizeRatio>0.0716783216783217</sizeRatio>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fieldCount>2</fieldCount>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel3/layoutx2/layoutxitem3">
      <left>0</left>
      <top>0</top>
      <width>115</width>
      <height>41</height>
      <widthRatio>0.258741258741259</widthRatio>
      <heightRatio>1</heightRatio>
      <sizeRatio>0.277027027027027</sizeRatio>
      <backgroundColor>f0f0f0</backgroundColor>
      <text>短信验证码</text>
      <fontSizeAuto>30</fontSizeAuto>
      <hAlign>right</hAlign>
      <heavy>70</heavy>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel3/layoutx2/layoutxitem4">
      <left>115</left>
      <top>0</top>
      <width>330</width>
      <height>41</height>
      <leftRatio>0.258741258741259</leftRatio>
      <widthRatio>0.741258741258741</widthRatio>
      <heightRatio>1</heightRatio>
      <sizeRatio>0.0966981132075472</sizeRatio>
      <backgroundColor>d0d0d0</backgroundColor>
      <heavy>200</heavy>
    </control>
    <control type="Edit" pathname="/divRoot/panel3/layoutx2/layoutxitem4/edit2">
      <left>0</left>
      <top>0</top>
      <width>330</width>
      <height>41</height>
      <widthRatio>1</widthRatio>
      <heightRatio>1</heightRatio>
      <sizeRatio>0.0966981132075472</sizeRatio>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <backgroundSkin>edit1</backgroundSkin>
      <inputFontSize>30</inputFontSize>
      <inputFontSizeAuto>30</inputFontSizeAuto>
    </control>
    <control type="Panel" pathname="/divRoot/panel3/panel2">
      <left>33</left>
      <top>50</top>
      <width>502</width>
      <height>57</height>
      <leftRatio>0.0582959641255605</leftRatio>
      <topRatio>0.105263157894737</topRatio>
      <widthRatio>0.89237668161435</widthRatio>
      <heightRatio>0.12</heightRatio>
      <sizeRatio>0.14321608040201</sizeRatio>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <text>请输入您的手机号码，以后您将以这个号码登录系统</text>
      <fontSizeAuto>30</fontSizeAuto>
      <fontBold>true</fontBold>
    </control>
    <control type="Panel" pathname="/divRoot/panel4">
      <left>0</left>
      <top>71</top>
      <width>582</width>
      <height>107</height>
      <topRatio>0.0866910866910867</topRatio>
      <widthRatio>1</widthRatio>
      <heightRatio>0.130647130647131</heightRatio>
      <sizeRatio>0.18904593639576</sizeRatio>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <backgroundImgMode>fill</backgroundImgMode>
      <fontSizeAuto>30</fontSizeAuto>
    </control>
    <control type="Panel" pathname="/divRoot/panel4/panel7">
      <left>16</left>
      <top>18</top>
      <width>557</width>
      <height>71</height>
      <leftRatio>0.0281995661605206</leftRatio>
      <topRatio>0.168224299065421</topRatio>
      <widthRatio>0.956616052060738</widthRatio>
      <heightRatio>0.663551401869159</heightRatio>
      <sizeRatio>0.160997732426304</sizeRatio>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <backgroundImg>1.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <fontSizeAuto>30</fontSizeAuto>
    </control>
    <control type="Panel" pathname="/divRoot/panel1">
      <left>131</left>
      <top>708</top>
      <width>316</width>
      <height>46</height>
      <leftRatio>0.225596529284165</leftRatio>
      <topRatio>0.864468864468865</topRatio>
      <widthRatio>0.542299349240781</widthRatio>
      <heightRatio>0.0561660561660562</heightRatio>
      <sizeRatio>0.184</sizeRatio>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <backgroundSkin>button3</backgroundSkin>
      <text><![CDATA[下一步　>>]]></text>
      <fontSizeAuto>20</fontSizeAuto>
      <fontColor>FFFFFF</fontColor>
      <cursor>pointer</cursor>
      <onClick>checkSmsCode();</onClick>
    </control>
    <control type="LayoutY" pathname="/divRoot/layouty1">
      <left>0</left>
      <top>0</top>
      <width>582</width>
      <height>69</height>
      <widthRatio>1</widthRatio>
      <heightRatio>0.0842490842490843</heightRatio>
      <sizeRatio>0.118556701030928</sizeRatio>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fieldCount>2</fieldCount>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/layouty1/layoutyitem1">
      <left>0</left>
      <top>0</top>
      <width>582</width>
      <height>22</height>
      <widthRatio>1</widthRatio>
      <heightRatio>0.322222222222222</heightRatio>
      <sizeRatio>0.0497427101200686</sizeRatio>
      <backgroundColor>BFCEDF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <heavy>47</heavy>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/layouty1/layoutyitem2">
      <left>0</left>
      <top>22</top>
      <width>582</width>
      <height>47</height>
      <topRatio>0.318840579710145</topRatio>
      <widthRatio>1</widthRatio>
      <heightRatio>0.681159420289855</heightRatio>
      <sizeRatio>0.0875232774674116</sizeRatio>
      <backgroundColor>47A9F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <text>验证手机</text>
      <fontSizeAuto>15</fontSizeAuto>
      <fontColor>FFFFFF</fontColor>
    </control>
    <control type="Panel" pathname="/divRoot/layouty1/layoutyitem2/panel8">
      <left>16</left>
      <top>10</top>
      <width>69</width>
      <height>26</height>
      <leftRatio>0.0274442538593482</leftRatio>
      <topRatio>0.213114754098361</topRatio>
      <widthRatio>0.118353344768439</widthRatio>
      <heightRatio>0.557377049180328</heightRatio>
      <sizeRatio>0.492753623188406</sizeRatio>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <backgroundImg>back.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <fontSizeAuto>30</fontSizeAuto>
      <cursor>pointer</cursor>
    </control>
    <control type="Panel" pathname="/divRoot/layouty1/layoutyitem2/panel10">
      <left>1</left>
      <top>1</top>
      <width>114</width>
      <height>44</height>
      <leftRatio>0.00186219739292365</leftRatio>
      <topRatio>0.0212765957446809</topRatio>
      <widthRatio>0.195530726256983</widthRatio>
      <heightRatio>0.936170212765957</heightRatio>
      <sizeRatio>0.419047619047619</sizeRatio>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <backgroundSkin>empty</backgroundSkin>
      <onClick>window.location.href = ee.pageRoot + "/regNewUser/regCoach1";
</onClick>
    </control>
  </controls>
  <taskSet count="2">
    <taskSetItem name="getSmsCode">
      <script1>var mobile = ee.getEditText(ee.getControl("edit1"));
//手机号码检测
if (mobile.length!=11) {
    alert("对不起，您输入的不是一个有效的手机号码");
    return;
}
if (!(/^\d+$/.test(mobile))) {
    alert("对不起，您输入的不是一个有效的手机号码");
    return;
} 

eio.appendString8(mobile);
</script1>
      <script2><![CDATA[var mobile = eio.readString8();
while (true) { 
    var sql = "select * from userInfo where mobile='" + mobile + "'";
    var sqlResult = db.executeQuery("PJ", sql);
    if (db.read(sqlResult)) {
        eio.appendString8("F");
        eio.appendString8("您输入的手机号码已经被注册使用过，请通过密码找回的形式获得您以前注册的账号");
        return;
    }
    //后台手机号验证
    if (mobile.length!=11) {
        eio.appendString8("F");
        eio.appendString8("手机号非法");
        break;
    }
    if (!(/^\d+$/.test(mobile))) {
        eio.appendString8("F");
        eio.appendString8("手机号非法");
        break;
    }
    //产生验证码
    var code = 0;
    var seed = (new Date()).getTime();
    while (code<1000) {
        seed = ( seed * 9301 + 49297 ) % 233280;
        var rand = seed / 233280.0;
        code = Math.floor(rand * 10000);
    }
    //存储验证码和手机号
    session.set("mobileCode", code + "");
    session.set("mobile", mobile);
    //发送验证码
    var sql = "insert into sms (mobile, message) values (" +
        "'" + db.encode(mobile) + "'," +
        "'您的验证码是：" + code + "')";
    if (!db.executeNoneQuery("PJ", sql)) {
        eio.appendString8("F");
        eio.appendString8("系统繁忙请稍后再试");
        break;
    } 
    eio.appendString8("T");
    break;
}
              ]]></script2>
      <script3>if (eio.readString8()!="T") {
    alert("发送验证码失败：" + eio.readString8());
    return;
}
alert("验证码已经以短信的形式发送到您的手机上，请注意查收。验证码是一个4位的数字，请将它填写在下面的栏目中");

</script3>
    </taskSetItem>
    <taskSetItem name="checkSmsCode">
      <script1>var mobileCode = ee.getEditText(ee.getControl("edit2"));
eio.appendString8(mobileCode);
</script1>
      <script2><![CDATA[var mobileCode = eio.readString8();
while (true) {
    var mobileCodeS = session.get("mobileCode");
    if (mobileCodeS.length<=0) {
        eio.appendString8("F");
        eio.appendString8("请点击发送按钮，收到短信后填写验证码");
        break;
    }
    if (mobileCodeS!=mobileCode) {
        session.set("mobileCode", "");
        eio.appendString8("F");
        eio.appendString8("您输入的验证码不正确，请重新发送并输入一次验证码");
        break;
    }    
    eio.appendString8("T");
    session.set("mobileCheck", "true");
    break;
}
]]></script2>
      <script3>if (eio.readString8()!="T") {
    alert("验证失败：" + eio.readString8());
    return;
}
window.location.href = ee.pageRoot + "/regNewUser/regCoach3";

 
</script3>
    </taskSetItem>
  </taskSet>
  <gridLines count="0" />
</page>